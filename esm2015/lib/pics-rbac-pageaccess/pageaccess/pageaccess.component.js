import { Component, ViewChild } from '@angular/core';
import { FormArray, FormControl, FormGroup } from '@angular/forms';
import { AppConstants } from '../@core/constants/app-constants';
import { AuthService } from '../@core/service/auth.service';
import { ManageAccessRadioComponent } from '../@core/common-components/manage-access-radio/manage-access-radio.component';
import { PageAccessService } from '../@core/urls/page-access.service';
import { AlertService } from '../@core/service/alert.service';
import { RBACINFO } from '../@core/urls/rbac-url.config';
import * as i0 from "@angular/core";
import * as i1 from "@angular/forms";
import * as i2 from "../@core/service/data-store.service";
import * as i3 from "@angular/router";
import * as i4 from "@angular/material/card";
import * as i5 from "../@core/common-components/manage-access-radio/manage-access-radio.component";
import * as i6 from "angular2-multiselect-dropdown";
import * as i7 from "@angular/material/radio";
import * as i8 from "primeng/dropdown";
import * as i9 from "@angular/common";
import * as i10 from "../@core/directives/permission.directive";
import * as i11 from "primeng/inputtext";
export class PageaccessComponent {
    constructor(injector, formBuilder, cdRef, _storeservice, router) {
        this.formBuilder = formBuilder;
        this.cdRef = cdRef;
        this._storeservice = _storeservice;
        this.router = router;
        this.userList = [];
        this.policyGroupData = [];
        this.roleAddedData = [];
        this.pageLevelAccess = false;
        this.multiPageAccess = false;
        this.fieldLevelAccess = false;
        this.moduleList = [];
        this.subModuleList = [];
        this.pageData = [];
        this.pagesList = [];
        this.selectedPageData = [];
        this.fData = [];
        this.moduleDropdownSettings = {};
        this.submoduleDropdownSettings = {};
        this.pageDropdownSettings = {};
        this.pageAccessDropdownSettings = {};
        this.fieldAccessDropdownSettings = {};
        this.fieldLevelClick = false;
        this.editPage = false;
        this.selectedFieldData = [];
        this.selectedPageAccessChanges = [];
        this.isRunCond = true;
        this.policyGroupPages = [];
        this.selectedRole = '';
        this.conditions = [];
        this.permissions = [];
        this.RBACORG = new RBACINFO();
        this.alert = injector.get(AlertService);
        this.pageAccessService = injector.get(PageAccessService);
        this.authService = injector.get(AuthService);
        this.updatePage = false;
        this.showFieldValidity = false;
        this.conditions = [
            {
                name: 'Days',
                key: 'days'
            },
            {
                name: 'Always',
                key: 'always'
            }
        ];
        this.permissions = [
            {
                name: 'R',
                key: 'r'
            },
            {
                name: 'RW',
                key: 'rw'
            },
            {
                name: 'None',
                key: 'n'
            }
        ];
        this.pageDropdownSettings = {
            singleSelection: false,
            text: 'Select Pages',
            selectAllText: 'Select All',
            unSelectAllText: 'UnSelect All',
            enableSearchFilter: true,
            classes: 'myclass custom-class',
            labelKey: 'pagename',
            searchBy: ['pagename']
        };
        this.pageAccessDropdownSettings = {
            singleSelection: false,
            text: 'Select Pages',
            selectAllText: 'Select All',
            unSelectAllText: 'UnSelect All',
            enableSearchFilter: true,
            labelKey: 'pagename',
            searchBy: ['pagename']
        };
        this.fieldAccessDropdownSettings = {
            singleSelection: true,
            text: 'Select Page',
            selectAllText: 'Select All',
            unSelectAllText: 'UnSelect All',
            enableSearchFilter: true,
            labelKey: 'pagename',
            searchBy: ['pagename']
        };
        // this.orgSubs = this.authService.orgInfo.subscribe(org => {
        //   this.orgId = org;
        //   if (this.orgId) {
        //     this.getOrganizationPage();
        //   }
        // });
    }
    ngOnInit() {
        this.orgSubs = this._storeservice.currentStore.subscribe((res) => {
            if (res['RBACORG'] && res['RBACORG'] !== '') {
                this.RBACORG = res['RBACORG'];
                console.log(this.RBACORG, 'RBACORG Event Scheduler');
                this.environment = this.RBACORG['environment'];
                this.orgId = parseInt(this.RBACORG['orgID']);
                if (this.environment) {
                    this.getOrganizationPage();
                    this.loadRbacForm();
                }
            }
        });
    }
    ngOnDestroy() {
        this.orgSubs.unsubscribe();
    }
    loadRbacForm() {
        this.rbacForm = this.formBuilder.group({
            id: new FormControl(null),
            accessBy: new FormControl(null),
            userid: new FormControl(''),
            policyid: new FormControl(null),
            roleid: new FormControl(null),
            provideAccess: new FormControl(null),
            pageAccess: new FormControl('2'),
            validity: new FormControl(null),
            module: new FormControl(null),
            submodule: new FormControl(null),
            pageList: new FormControl(null),
            ppages: new FormControl(null),
            fpages: new FormControl(null),
            fieldLevelData: new FormArray([]),
            pageLevelData: new FormArray([])
        });
    }
    accessBy(evt) {
        this.rbacForm.get('accessBy').setValue(evt);
        this.resetForm(evt);
    }
    userDropdown(evt) {
        this.userList = evt;
    }
    roleDropdown(evt) {
        this.roleAddedData = evt;
    }
    policyDropdown(evt) {
        this.policyGroupData = evt;
    }
    dropDownSelectedValues(evt) {
        this.selectedRole = '';
        this.updatePage = false;
        this.selectedAccess = evt.from;
        this.rbacForm.get('userid').setValue(evt.userid);
        this.rbacForm.get('roleid').setValue(evt.roleid);
        this.rbacForm.get('policyid').setValue(evt.policyid);
        if (this.pagesList.length === 0) {
            this.getOrganizationPage();
        }
        this.getSelectedPages();
        if (evt.from === 'role') {
            this.selectedRole = evt.roleid;
        }
    }
    getOrganizationPage() {
        if (this.orgId) {
            this.pageAccessService.getOrganizationPage(this.orgId).subscribe(res => {
                const data = res['data'];
                if (data && (data === null || data === void 0 ? void 0 : data.length)) {
                    this.pageData = data === null || data === void 0 ? void 0 : data.filter(a => a.activeVersion);
                    this.pagesList = this.pageData.map(x => {
                        return {
                            id: x.activeVersion.pageid,
                            pagename: x.activeVersion.pagename,
                            activeVersion: x.activeVersion
                        };
                    });
                }
            });
        }
    }
    getFallbackPermission(fAccess) {
        var _a, _b;
        if (((_a = fAccess === null || fAccess === void 0 ? void 0 : fAccess.value) === null || _a === void 0 ? void 0 : _a.pageAccess) === '2' || ((_b = fAccess === null || fAccess === void 0 ? void 0 : fAccess.value) === null || _b === void 0 ? void 0 : _b.access) === '2') {
            return this.permissions.filter(a => a.key !== 'rw');
        }
        else {
            return this.permissions;
        }
    }
    getSelectedPages(_selectedPages, _pageConfig, _assetconfig) {
        this.updatePage = false;
        this.policyGroupPages = [];
        if (this.selectedAccess === 'user') {
            this.selectedId = this.rbacForm.getRawValue().userid;
        }
        else if (this.selectedAccess === 'role') {
            const role = this.rbacForm.getRawValue().roleid;
            this.selectedId = role;
            if (role.rolePolicygroups && role.rolePolicygroups.length) {
                role.rolePolicygroups.forEach(policyGroup => {
                    this.pageAccessService.getPolicyGroupPage(policyGroup.policygroupid).subscribe(({ data }) => {
                        this.policyGroupCondition(data, policyGroup);
                    });
                });
            }
        }
        else {
            this.selectedId = this.rbacForm.getRawValue().policyid;
            this.selectedAccess = 'policygroup';
        }
        this.getConfiguredAssetData(this.selectedAccess, this.selectedId);
        this.pageAccessService.getDynamicPage(this.selectedAccess, this.selectedId).subscribe(res => {
            this.loadPages([], null, [], [], this.assetList);
            if (res && res['data'].length) {
                this.updatePage = true;
                const pageData = res['data'].map(a => a.page);
                pageData.forEach(x => { var _a; return (x.pagename = (_a = x === null || x === void 0 ? void 0 : x.activeVersion) === null || _a === void 0 ? void 0 : _a.pagename); });
                const uniquePageData = [...new Map(pageData.map(item => [item['id'], item])).values()];
                const pageIDs = uniquePageData.map(a => a['id']);
                const pageConfigData = res['data'].map(a => {
                    return {
                        id: a.id,
                        isfull: a.full,
                        ishide: a.hide,
                        isread: a.read,
                        isreadwrite: a.readwrite,
                        conditions: a.conditions
                    };
                });
                this.loadPages(uniquePageData, null, pageIDs, pageConfigData, this.assetList);
            }
        });
    }
    policyGroupCondition(data, policyGroup) {
        var _a, _b;
        const policyGroupPages = (data === null || data === void 0 ? void 0 : data.data) && (data === null || data === void 0 ? void 0 : data.data.length) ? data === null || data === void 0 ? void 0 : data.data : [];
        const uniquePolicyGroupPages = [...new Map(policyGroupPages.map(item => [item['page']['id'], item])).values()];
        this.policyGroupData = (this.policyGroupData.length && this.policyGroupData) || uniquePolicyGroupPages;
        this.policyGroupPages.push({
            name: (_b = (_a = this.policyGroupData.find(pgd => pgd.policygroup.id === policyGroup.policygroupid)) === null || _a === void 0 ? void 0 : _a.policygroup) === null || _b === void 0 ? void 0 : _b.policygroupname,
            data: uniquePolicyGroupPages
        });
    }
    getConfiguredAssetData(selectedAccess, selectedId) {
        this.pageAccessService.getAssetById(selectedAccess, selectedId).subscribe((res) => {
            this.assetList = res['data'].map(a => {
                return {
                    _id: a === null || a === void 0 ? void 0 : a.id,
                    id: a === null || a === void 0 ? void 0 : a.assetid,
                    isfull: a.full,
                    ishide: a.hide,
                    isread: a.read,
                    isreadwrite: a.readwrite,
                    conditions: a.conditions
                };
            });
        });
    }
    loadPages(tempPageData, action, pageids, pageConfig, fieldConfig) {
        this.pageData = tempPageData || [];
        this.pageData.forEach(a => { var _a, _b; return (a.pagename = tempPageData.length && ((_b = (_a = tempPageData.filter(b => b.id === a.id)[0]) === null || _a === void 0 ? void 0 : _a.activeVersion) === null || _b === void 0 ? void 0 : _b.pagename)); });
        const pl = this.rbacForm.get('pageList').value;
        if (pageids !== null) {
            const newPages = pl && (pl === null || pl === void 0 ? void 0 : pl.length) ? pl.map(key => key.id) : [];
            const pId = (newPages === null || newPages === void 0 ? void 0 : newPages.length) ? [...new Set(newPages.concat(pageids))] : pageids;
            const pList = this.pageData.filter(key => pId.includes(key.id));
            const pagesList = pList.map(x => {
                return {
                    id: x.id,
                    pagename: x.pagename,
                    activeVersion: x.activeVersion
                };
            });
            this.rbacForm.get('pageList').setValue(pagesList);
        }
        this.populatePage(action, pageConfig, fieldConfig, pageids);
    }
    populatePage(action = null, pageConfig = null, fieldConfig = null, pageids = null) {
        const pageIds = this.rbacForm.get('pageList').value;
        const id = pageIds.map(key => key.id);
        let provideAccess = this.rbacForm.get('provideAccess').value;
        if (id === null || id === void 0 ? void 0 : id.length) {
            if (!provideAccess) {
                this.rbacForm.get('provideAccess').setValue('1');
                this.pageLevelAccess = this.multiPageAccess = true;
                this.fieldLevelAccess = false;
                provideAccess = '1';
            }
            // Pageids from api
            this.selectedPageData = pageIds;
            if (provideAccess === '1') {
                this.rbacForm.get('ppages').setValue(pageIds);
                if (fieldConfig === null || fieldConfig === void 0 ? void 0 : fieldConfig.length) {
                    this.selectedFieldData = this.pageAccessService.setSelectedFieldPage(fieldConfig === null || fieldConfig === void 0 ? void 0 : fieldConfig.map(ele => {
                        return {
                            fieldName: ele === null || ele === void 0 ? void 0 : ele.description,
                            access: this.checkAccessType(ele),
                            assetid: ele === null || ele === void 0 ? void 0 : ele.assetid,
                            pageId: ele === null || ele === void 0 ? void 0 : ele.id
                        };
                    }), this.selectedFieldData);
                }
                this.getPageLevelList(action, pageConfig);
            }
            else if (provideAccess === '2') {
                if (fieldConfig !== null) {
                    const pList = this.pageData.filter(key => key.id === pageids[0]);
                    this.rbacForm.get('fpages').setValue(pList);
                    this.getFieldLevelList(action, fieldConfig);
                }
                else {
                    const pId = this.selectedPageData.filter(ele => { var _a; return ele.id === ((_a = pageIds[0]) === null || _a === void 0 ? void 0 : _a.id); });
                    this.rbacForm.get('fpages').setValue(pId);
                    this.getFieldLevelList(action, fieldConfig);
                }
            }
        }
        else {
            this.removeAllPopulatePage();
        }
    }
    removeAllPopulatePage() {
        this.selectedPageData = [];
        this.pageLevelAccess = false;
        this.fieldLevelAccess = false;
        const f = this.rbacForm.controls['fieldLevelData'];
        f.controls = [];
        const p = this.rbacForm.controls['pageLevelData'];
        p.controls = [];
        this.rbacForm.get('ppages').setValue(null);
        this.rbacForm.get('fpages').setValue(null);
        this.rbacForm.get('provideAccess').setValue(null);
        this.rbacForm.get('pageLevelData').setValue([]);
        this.rbacForm.get('fieldLevelData').setValue([]);
    }
    showLevelAccess(id) {
        var _a;
        const f = this.rbacForm.controls['fieldLevelData'];
        if ((_a = f.getRawValue()) === null || _a === void 0 ? void 0 : _a.length) {
            this.selectedFieldData = this.pageAccessService.setSelectedFieldPage(f.getRawValue(), this.selectedFieldData);
        }
        f.controls = [];
        const pageIds = this.rbacForm.get('pageList').value;
        if (id === '1') {
            this.pageLevelAccess = true;
            this.multiPageAccess = true;
            this.fieldLevelAccess = false;
            if (pageIds === null || pageIds === void 0 ? void 0 : pageIds.length) {
                setTimeout(() => {
                    if (!this.rbacForm.get('ppages').value) {
                        this.rbacForm.get('ppages').patchValue(pageIds);
                    }
                    this.getPageLevelList('click');
                    if (this.isRunCond) {
                        this.isRunCond = false;
                    }
                }, 200);
            }
        }
        else {
            this.pageLevelAccess = false;
            this.multiPageAccess = false;
            this.fieldLevelAccess = true;
            const fpages = this.rbacForm.get('fpages').value;
            this.fPagesCheckLength(fpages, pageIds);
            this.selectedPageLevelData = this.rbacForm.get('pageLevelData').value;
            console.log(this.selectedPageLevelData);
            this.getFieldLevelList('click');
        }
    }
    fPagesCheckLength(fpages, pageIds) {
        if (!fpages || !(fpages === null || fpages === void 0 ? void 0 : fpages.length)) {
            if (pageIds === null || pageIds === void 0 ? void 0 : pageIds.length) {
                const p = [pageIds[0]];
                this.rbacForm.get('fpages').setValue(p);
            }
        }
    }
    getPageLevelList(action = null, pageConfig = null) {
        const accessArray = this.rbacForm.get('pageLevelData');
        console.log(accessArray);
        const formValue = this.rbacForm.getRawValue();
        const pAccessId = this.rbacForm.get('ppages').value;
        console.log(pAccessId);
        const pId = pAccessId.map(key => key.pageid || key.id);
        // first check exist page config
        if (pageConfig !== null) {
            // check selected value length
            let existSelectedPageId = [];
            if (formValue.pageLevelData.length) {
                existSelectedPageId = formValue.pageLevelData.map(id => id.id);
            }
            for (let i = 0; i < pId.length; i++) {
                let setAccess = '';
                setAccess = this.pageAccessService.getAccess(pageConfig[i]);
                const pageName = this.pageData.filter(key => key.id === pId[i]);
                if (existSelectedPageId.length) {
                    this.getVersionAccessArray(existSelectedPageId, pId, i, accessArray, pageName, setAccess, pageConfig);
                }
                else {
                    this.getPageAccessArray(pId, i, accessArray, pageName, setAccess, pageConfig);
                }
            }
        }
        this.forActionClick(action, pId, accessArray);
    }
    getVersionAccessArray(existSelectedPageId, pId, i, accessArray, pageName, setAccess, pageConfig) {
        const checkPid = existSelectedPageId.includes(pId[i]);
        if (!checkPid) {
            accessArray.push(new FormGroup({
                pageName: new FormControl(pageName[0]['activeVersion']['pagename']),
                pageid: new FormControl(pId[i]),
                pageAccess: new FormControl(setAccess),
                validity: new FormControl((pageConfig[i].conditions && pageConfig[i].conditions.value) || '1'),
                condition: new FormControl(pageConfig[i].conditions ? 'days' : 'always'),
                fallbackTo: new FormControl((pageConfig[i].conditions && pageConfig[i].conditions.fallbackTo) || 'n')
            }));
        }
    }
    getPageAccessArray(pId, i, accessArray, pageName, setAccess, pageConfig) {
        accessArray.push(new FormGroup({
            pageName: new FormControl(pageName[0]['pagename']),
            pageid: new FormControl(pId[i]),
            pageAccess: new FormControl(setAccess),
            validity: new FormControl((pageConfig[i].conditions && pageConfig[i].conditions.value) || '1'),
            condition: new FormControl(pageConfig[i].conditions ? 'days' : 'always'),
            fallbackTo: new FormControl((pageConfig[i].conditions && pageConfig[i].conditions.fallbackTo) || 'n')
        }));
    }
    forActionClick(action, pId, accessArray) {
        var _a;
        if (action === 'click') {
            const existingValue = ((_a = this.selectedPageLevelData) === null || _a === void 0 ? void 0 : _a.length) ? this.selectedPageLevelData : accessArray.getRawValue();
            let pagesFromField = Array.from(new Set([...this.selectedFieldData].map(ele => ele.pageId))).filter(ele => ele);
            if (pId === null || pId === void 0 ? void 0 : pId.length) {
                pagesFromField = pId;
                console.log(pagesFromField);
                console.log(pId);
            }
            if (pagesFromField === null || pagesFromField === void 0 ? void 0 : pagesFromField.length) {
                accessArray.controls = [];
                accessArray.controls = this.pageAccessService.getAccessArrayOnClick(pagesFromField, this.pagesList, this.selectedFieldData, this.savedPageAccessPatching, existingValue);
                this.savedPageAccessPatching = false;
            }
        }
    }
    checkAccessType(data) {
        if (data === null || data === void 0 ? void 0 : data.isfull) {
            return '2';
        }
        else if (data === null || data === void 0 ? void 0 : data.ishide) {
            return '4';
        }
        else if (data === null || data === void 0 ? void 0 : data.isread) {
            return '3';
        }
        else if (data === null || data === void 0 ? void 0 : data.isreadwrite) {
            return '2';
        }
    }
    getFieldLevelList(action = null, fieldConfig = null) {
        const accessArray = this.rbacForm.get('fieldLevelData');
        const formValue = this.rbacForm.getRawValue();
        const pAccessId = this.rbacForm.get('fpages').value;
        const pageIds = this.rbacForm.get('pageList').value;
        const fieldLevel = pageIds.filter(x => x.id === pAccessId);
        this.checkFieldLevelCondition(fieldLevel, pAccessId);
        this.fieldConfigCheck(fieldConfig, accessArray);
        if (action === 'click') {
            accessArray.controls = [];
            this.pageAccessService.getAssetByPageId(this.pId).subscribe(res => {
                const data = res['data'];
                console.log(data);
                this.getAccessArrayCheck(data, formValue, accessArray);
            });
        }
    }
    checkFieldLevelCondition(fieldLevel, pAccessId) {
        if (fieldLevel.length > 0) {
            this.showFieldValidity = fieldLevel[0].templatejson ? true : false;
            this.fieldVersionCheck(fieldLevel, pAccessId);
        }
        else {
            this.showFieldValidity = pAccessId[0].templatejson ? true : false;
            if (pAccessId[0]['version']) {
                this.pId = pAccessId[0].pageid;
            }
            else {
                this.pId = pAccessId && (pAccessId === null || pAccessId === void 0 ? void 0 : pAccessId.length) ? pAccessId[0]['id'] : null;
            }
        }
    }
    fieldVersionCheck(fieldLevel, pAccessId) {
        if (fieldLevel[0]['version']) {
            this.pId = fieldLevel[0].pageid;
        }
        else {
            if (Array.isArray(pAccessId)) {
                this.pId = pAccessId && (pAccessId === null || pAccessId === void 0 ? void 0 : pAccessId.length) ? pAccessId[0]['id'] : null;
            }
            else {
                this.pId = pAccessId;
            }
        }
    }
    fieldConfigCheck(fieldConfig, accessArray) {
        if (fieldConfig !== null) {
            accessArray.controls = [];
            this.selectedFieldData = this.pageAccessService.setSelectedFieldPage(fieldConfig === null || fieldConfig === void 0 ? void 0 : fieldConfig.map(ele => {
                return {
                    fieldName: ele === null || ele === void 0 ? void 0 : ele.description,
                    access: this.checkAccessType(ele),
                    assetid: ele.assetid,
                    pageId: ele.id
                };
            }), this.selectedFieldData);
            this.existingSelectedFieldData = [...this.selectedFieldData];
            this.pageAccessService.getAssetByPageId(this.pId).subscribe(res => {
                const data = res['data'];
                this.mergedAsset = this.mergeAsset(data, this.assetList);
                if (this.mergedAsset.includes(undefined)) {
                    this.mergedAsset = data;
                    if (this.mergedAsset.length !== (data === null || data === void 0 ? void 0 : data.length)) {
                        this.mergedAsset = data;
                    }
                }
                this.fData = data;
                this.getMergedAsset(accessArray);
            });
        }
    }
    getMergedAsset(accessArray) {
        for (let i = 0; i < this.mergedAsset.length; i++) {
            const access = this.pageAccessService.getAccess(this.mergedAsset[i]);
            accessArray.push(new FormGroup({
                fieldName: new FormControl(access[i]['displayname']),
                access: new FormControl('2'),
                assetid: new FormControl(access[i]['id']),
                pageId: new FormControl(this.pId),
                validity: new FormControl(this.mergedAsset[i].conditions ? this.mergedAsset[i].conditions.value : '1'),
                condition: new FormControl(this.mergedAsset[i].conditions ? 'days' : 'always'),
                fallbackTo: new FormControl(this.mergedAsset[i].conditions ? this.mergedAsset[i].conditions.fallbackTo : '')
            }));
        }
    }
    getAccessArrayCheck(data, formValue, accessArray) {
        var _a, _b, _c, _d, _e;
        if (data === null || data === void 0 ? void 0 : data.length) {
            this.mergedAsset = this.assetList ? this.mergeAsset(data, this.assetList) : data;
            this.checkMergedAsset(data);
            if (formValue.fieldLevelData.length) {
                this.selectedFieldData = this.pageAccessService.setSelectedFieldPage(formValue.fieldLevelData, this.selectedFieldData);
                console.log(this.selectedFieldData);
            }
            let access = null;
            if ((_a = this.savedFieldPagesPatching) === null || _a === void 0 ? void 0 : _a.length) {
                access = (_b = this.savedFieldPagesPatching.find(ele => ele.pageid === this.pId)) === null || _b === void 0 ? void 0 : _b.access;
                this.savedFieldPagesPatching = this.savedFieldPagesPatching.filter(ele => ele.pageid !== this.pId);
            }
            this.fData = data;
            const existingFieldDataMap = {};
            if (!access && ((_c = this.selectedFieldData) === null || _c === void 0 ? void 0 : _c.length)) {
                (_e = (_d = this.assetList) === null || _d === void 0 ? void 0 : _d.filter(ele => ele.pageId === this.pId)) === null || _e === void 0 ? void 0 : _e.forEach(ele => {
                    existingFieldDataMap[ele.assetid] = ele.access;
                });
            }
            this.getAccessByAsset(accessArray);
        }
        else {
            accessArray.controls = [];
        }
    }
    checkMergedAsset(data) {
        if (this.mergedAsset.includes(undefined)) {
            this.mergedAsset = data;
            if (this.mergedAsset.length !== data.length) {
                this.mergedAsset = data;
            }
        }
    }
    getAccessByAsset(accessArray) {
        for (const asset of this.mergedAsset) {
            const assetAccess = this.pageAccessService.getAccess(asset);
            accessArray.push(new FormGroup({
                fieldName: new FormControl(asset['displayname']),
                access: new FormControl(assetAccess ? assetAccess : '2'),
                assetid: new FormControl(asset['id']),
                pageId: new FormControl(this.pId),
                validity: new FormControl(asset.conditions ? asset.conditions.value : '1'),
                condition: new FormControl(asset.conditions ? 'days' : 'always'),
                fallbackTo: new FormControl(asset.conditions ? asset.conditions.fallbackTo : '')
            }));
        }
    }
    mergeAsset(arr1, arr2) {
        return arr1.map((item, _i) => {
            for (const value of arr2) {
                if (item.id === value.id) {
                    return Object.assign({}, item, value);
                }
            }
        });
    }
    saveRbac() {
        const access = this.rbacForm.getRawValue();
        const _url = '';
        const userid = this.rbacForm.get('userid').value;
        const roleId = this.rbacForm.get('roleid').value;
        const policyId = this.rbacForm.get('policyid').value;
        const pageLevelData = access.pageLevelData;
        const fieldLevelData = access.fieldLevelData;
        if (this.fieldLevelAccess === false) {
            this.getPageLevelByArray(pageLevelData);
        }
        else {
            this.getFieldLevelByAsset(fieldLevelData);
        }
        if (this.fieldLevelAccess) {
            let selectedId;
            if (this.selectedAccess === 'user') {
                selectedId = this.rbacForm.getRawValue().userid;
            }
            else if (this.selectedAccess === 'role') {
                selectedId = this.rbacForm.getRawValue().roleid;
            }
            else {
                selectedId = this.rbacForm.getRawValue().policyid;
                this.selectedAccess = 'policygroup';
            }
            this.pageAccessService.createAsset(this.selectedAccess, selectedId, this.fullArray).subscribe(_res => {
                this.getConfiguredAssetData(this.selectedAccess, selectedId);
                this.alert.success('Field Access Updated Successfully');
            });
        }
        else {
            if (this.updatePage) {
                if (this.selectedAccess === 'policy') {
                    this.selectedAccess = 'policygroup';
                }
                this.pageAccessService.updateDynamicPage(this.selectedAccess, this.selectedId, this.fullArray).subscribe(_res => {
                    this.alert.success('Access Updated Successfully');
                }, _err => this.alert.error(AppConstants.errorMessage));
            }
            else {
                this.pageAccessService
                    .createAccess(this.fieldLevelAccess, access.accessBy, this.fullArray, userid, roleId, policyId)
                    .subscribe(_result => {
                    this.alert.success('Access Saved Successfully');
                }, _error => this.alert.error(AppConstants.errorMessage));
            }
        }
    }
    getPageLevelByArray(pageLevelData) {
        this.fullArray = pageLevelData.map(x => {
            return {
                page: x.pageid,
                readwrite: (x === null || x === void 0 ? void 0 : x.pageAccess) === '2' ? true : false,
                read: (x === null || x === void 0 ? void 0 : x.pageAccess) === '3' ? true : false,
                none: (x === null || x === void 0 ? void 0 : x.pageAccess) === '4' ? true : false,
                full: (x === null || x === void 0 ? void 0 : x.pageAccess) === '5' ? true : false,
                conditions: x.condition !== 'always'
                    ? {
                        attribute: 'created',
                        condition: 'lte',
                        value: x.validity,
                        value_type: 'variable',
                        fallbackTo: x.fallbackTo,
                        type: 'timestamp'
                    }
                    : null
            };
        });
    }
    getFieldLevelByAsset(fieldLevelData) {
        this.fullArray = fieldLevelData.map(x => {
            var _a, _b;
            const assetData = (_a = this.assetList) === null || _a === void 0 ? void 0 : _a.filter(a => a.id === x.assetid && a);
            return {
                id: assetData ? (_b = assetData[0]) === null || _b === void 0 ? void 0 : _b._id : null,
                asset: x.assetid,
                readwrite: (x === null || x === void 0 ? void 0 : x.access) === '2' ? true : false,
                read: (x === null || x === void 0 ? void 0 : x.access) === '3' ? true : false,
                none: (x === null || x === void 0 ? void 0 : x.access) === '4' ? true : false,
                full: (x === null || x === void 0 ? void 0 : x.access) === '5' ? true : false,
                conditions: x.condition !== 'always'
                    ? {
                        attribute: 'created',
                        condition: 'lte',
                        value: x.validity,
                        value_type: 'variable',
                        fallbackTo: x.fallbackTo,
                        type: 'timestamp'
                    }
                    : null
            };
        });
    }
    // edit functionalites based on policy group
    setPolicyLevelPagePatching(pageConfig, assetconfig) {
        const pageIds = pageConfig.map(key => key.pageid);
        const selectedModules = [];
        const uniquePage = [...new Set(pageIds)];
        const selectedPages = uniquePage;
        this.rbacForm.get('provideAccess').setValue('1');
        this.pageLevelAccess = this.multiPageAccess = true;
        this.fieldLevelAccess = false;
        const m = this.rbacForm.get('module').value;
        if (m !== '' && m !== null) {
            const newModule = m.concat(selectedModules);
            const uniqueNewModule = [...new Set(newModule)];
            this.rbacForm.get('module').setValue(uniqueNewModule);
        }
        else {
            this.rbacForm.get('module').setValue(selectedModules);
        }
        this.getSelectedPages(selectedPages, pageConfig, assetconfig);
    }
    setPolicyLevelFieldPatching(pageConfig, assetconfig, from = null) {
        const mKey = assetconfig.filter(key => key.modulekey !== null && key.modulekey !== '' && key.isactive !== '' && key.isactive !== null);
        const mmkey = mKey.map(key => key.modulekey);
        const modules = this.moduleList.filter(key => mmkey.includes(key.refKey));
        const pageId = assetconfig.filter(key => key.pageid !== null);
        const pageIds = pageId.map(key => key.pageid);
        let selectedModules;
        selectedModules = [...new Set(modules)];
        const uniquePage = [...new Set(pageIds)];
        const selectedPages = uniquePage;
        this.rbacForm.get('provideAccess').setValue('2');
        this.pageLevelAccess = this.multiPageAccess = false;
        this.fieldLevelAccess = true;
        if (from === 'field') {
            const m = this.rbacForm.get('module').value;
            if (m !== '') {
                const mk = selectedModules.concat(m);
                selectedModules = mk;
                this.rbacForm.get('module').setValue(selectedModules);
            }
            const sm = this.rbacForm.get('submodule').value;
            if (sm !== '') {
                this.rbacForm.get('module').setValue(selectedModules);
            }
        }
        else {
            this.rbacForm.get('module').setValue(selectedModules);
        }
        this.getSelectedPages(selectedPages, pageConfig, assetconfig);
    }
    getDataBasedOnPolicy(from = null) {
        const policyids = this.rbacForm.get('policyid').value.map(a => a.id);
        if (policyids.length) {
            this.editPage = true;
            this.pageLevelAccess = false;
            this.fieldLevelAccess = false;
            const f = this.rbacForm.controls['fieldLevelData'];
            f.controls = [];
            const p = this.rbacForm.controls['pageLevelData'];
            p.controls = [];
            for (let j = 0; j < policyids.length; j++) {
                const pageConfig = this.policyGroupData.filter(key => key.id === policyids[j]);
                if (from === 'field') {
                    this.editPage = false;
                    if (pageConfig[0].assetConfigs.length) {
                        this.setPolicyLevelFieldPatching(pageConfig[0].pageConfigs, pageConfig[0].assetConfigs, from);
                    }
                    else if (policyids.length === j + 1) {
                        this.showLevelAccess('2');
                    }
                }
                else {
                    this.getCheckPageConfig(pageConfig);
                }
            }
        }
        else {
            this.resetForm('3');
            this.rbacForm.get('accessBy').setValue('3');
        }
    }
    getCheckPageConfig(pageConfig) {
        if (pageConfig[0].pageConfigs.length) {
            this.fieldLevelClick = true;
            this.setPolicyLevelPagePatching(pageConfig[0].pageConfigs, pageConfig[0].assetConfigs);
        }
        else if (pageConfig[0].assetConfigs.length) {
            const pAccess = this.rbacForm.get('provideAccess').value;
            if (pAccess !== '1') {
                this.setPolicyLevelFieldPatching(pageConfig[0].pageConfigs, pageConfig[0].assetConfigs);
            }
        }
    }
    getDataBasedOnRole(from = null) {
        const roleIds = this.rbacForm.get('roleid').value.map(a => a.id);
        if (roleIds.length) {
            this.editPage = true;
            this.pageLevelAccess = false;
            this.fieldLevelAccess = false;
            const f = this.rbacForm.controls['fieldLevelData'];
            f.controls = [];
            const p = this.rbacForm.controls['pageLevelData'];
            p.controls = [];
            // loop the role ids
            for (let j = 0; j < roleIds.length; j++) {
                const pageConfig = this.roleAddedData.filter(key => key.id === roleIds[j]);
                this.getOrgId(pageConfig);
                if (from === 'field') {
                    this.editPage = false;
                    if (pageConfig[0].assetConfigs.length) {
                        this.setPolicyLevelFieldPatching(pageConfig[0].rolePolicyGroupConfigs, pageConfig[0].assetConfigs, from);
                    }
                    else if (roleIds.length === j + 1) {
                        this.showLevelAccess('2');
                    }
                }
                else {
                    this.getCheckRolePolicyGroup(pageConfig);
                }
            }
        }
        else {
            this.resetForm('2');
            this.rbacForm.get('accessBy').setValue('2');
        }
    }
    getOrgId(pageConfig) {
        var _a;
        if (pageConfig === null || pageConfig === void 0 ? void 0 : pageConfig.length) {
            this.organisationid = (_a = pageConfig[0]) === null || _a === void 0 ? void 0 : _a.organizationid;
        }
    }
    getCheckRolePolicyGroup(pageConfig) {
        if (pageConfig[0].rolePolicyGroupConfigs.length) {
            this.setPolicyLevelPagePatching(pageConfig[0].rolePolicyGroupConfigs, pageConfig[0].assetConfigs);
        }
        else if (pageConfig[0].assetConfigs.length) {
            const pAccess = this.rbacForm.get('provideAccess').value;
            if (pAccess !== '1') {
                this.setPolicyLevelFieldPatching(pageConfig[0].rolePolicyGroupConfigs, pageConfig[0].assetConfigs);
            }
        }
    }
    getRoleAndPolicyData(from = null) {
        const userIds = this.rbacForm.get('userid').value.map(a => a.id);
        if (userIds.length) {
            this.editPage = true;
            this.pageLevelAccess = false;
            this.fieldLevelAccess = false;
            const f = this.rbacForm.controls['fieldLevelData'];
            f.controls = [];
            const p = this.rbacForm.controls['pageLevelData'];
            p.controls = [];
            // loop the role ids
            for (let j = 0; j < userIds.length; j++) {
                const pageConfig = this.userList.filter(key => key.id === userIds[j]);
                if (from === 'field') {
                    this.editPage = false;
                    if (pageConfig[0].assetConfigs.length) {
                        this.setPolicyLevelFieldPatching(pageConfig[0].pageConfigs, pageConfig[0].assetConfigs, from);
                    }
                    else if (userIds.length === j + 1) {
                        this.showLevelAccess('2');
                    }
                }
                else {
                    this.getCheckPolicyLevelField(pageConfig);
                }
            }
        }
        else {
            this.resetForm('1');
            this.rbacForm.get('accessBy').setValue('1');
        }
    }
    getCheckPolicyLevelField(pageConfig) {
        if (pageConfig[0].pageConfigs.length) {
            this.setPolicyLevelPagePatching(pageConfig[0].pageConfigs, pageConfig[0].assetConfigs);
        }
        else if (pageConfig[0].assetConfigs.length) {
            const pAccess = this.rbacForm.get('provideAccess').value;
            if (pAccess !== '1') {
                this.setPolicyLevelFieldPatching(pageConfig[0].pageConfigs, pageConfig[0].assetConfigs);
            }
        }
    }
    resetForm(id = null, clear = null) {
        this.subModuleList = this.pageData = this.selectedPageData = [];
        this.pageLevelAccess = this.fieldLevelAccess = false;
        const f = this.rbacForm.controls['fieldLevelData'];
        f.controls = [];
        const p = this.rbacForm.controls['pageLevelData'];
        p.controls = [];
        this.rbacForm.reset();
        if (id !== null) {
            this.rbacForm.get('accessBy').setValue(id);
        }
        else if (clear !== null) {
            this.AddComponent.resetForm();
        }
    }
    redirectList() {
        this.router.navigateByUrl('/pages/rbac/page-access/page-access-list');
    }
    saveAccessPatching() {
        var _a;
        this.savedFieldPagesPatching = [];
        this.savedPageAccessPatching = false;
        if (((_a = this.rbacForm.get('provideAccess')) === null || _a === void 0 ? void 0 : _a.value) === '2') {
            this.savedPageAccessPatching = true;
        }
        else {
            const ppId = this.rbacForm.get('pageLevelData').value;
            this.savedFieldPagesPatching = [];
            if (ppId === null || ppId === void 0 ? void 0 : ppId.length) {
                ppId.forEach(element => {
                    const selectedObj = { pageid: element === null || element === void 0 ? void 0 : element.pageid, access: element === null || element === void 0 ? void 0 : element.pageAccess };
                    this.savedFieldPagesPatching.push(selectedObj);
                });
            }
        }
        this.alert.success('Temporarily saved Data for changes');
    }
    changeFieldAccess(_index) {
        const accessArray = this.rbacForm.get('pageLevelData');
        const fieldValue = this.rbacForm.get('fieldLevelData').value.map(el => el.access);
        let maxOcc = { element: null, occured: 0 };
        fieldValue.reduce((acc, el) => {
            acc[el] = acc[el] ? acc[el] + 1 : 1;
            if (acc[el] > maxOcc.occured) {
                maxOcc = { element: el, occured: acc[el] };
            }
            return acc;
        }, {});
        const pageIndex = this.rbacForm
            .get('pageLevelData')
            .value.findIndex(el => el.pageid === this.rbacForm.get('fieldLevelData').value[0].pageId);
        if (pageIndex > -1) {
            accessArray.push(new FormGroup({
                pageName: new FormControl(this.rbacForm.get('pageLevelData').value[pageIndex].pageName),
                pageid: new FormControl(this.rbacForm.get('pageLevelData').value[pageIndex].pageid),
                pageAccess: new FormControl(maxOcc.element ? maxOcc.element : '2')
            }));
            accessArray.removeAt(pageIndex);
            const isExist = this.selectedPageAccessChanges.findIndex(el => el.pageid === this.rbacForm.get('pageLevelData').value[pageIndex].pageid);
            if (isExist > -1) {
                this.selectedPageAccessChanges.splice(isExist, 1);
            }
        }
    }
    changePageAccess(index) {
        var _a;
        const selectedValue = this.rbacForm.get('pageLevelData').value[index];
        const isExist = (_a = this.selectedPageAccessChanges) === null || _a === void 0 ? void 0 : _a.findIndex(el => (el === null || el === void 0 ? void 0 : el.pageid) === selectedValue.pageid);
        if (isExist > -1) {
            this.selectedPageAccessChanges[isExist].pageAccess = selectedValue.pageAccess;
        }
        else {
            this.selectedPageAccessChanges.push(selectedValue);
        }
    }
}
PageaccessComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: PageaccessComponent, deps: [{ token: i0.Injector }, { token: i1.FormBuilder }, { token: i0.ChangeDetectorRef }, { token: i2.DataStoreService }, { token: i3.Router }], target: i0.ɵɵFactoryTarget.Component });
PageaccessComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.17", type: PageaccessComponent, selector: "lib-pageaccess", viewQueries: [{ propertyName: "AddComponent", first: true, predicate: ManageAccessRadioComponent, descendants: true }], ngImport: i0, template: "<div class=\"row rbac-card\">\r\n    <div class=\"col-12\">\r\n      <mat-card class=\"mat-card\">\r\n        <mat-card-content class=\"p-2\">\r\n          <form [formGroup]=\"rbacForm\">\r\n            <app-manage-access-radio\r\n              (accessBy)=\"accessBy($event)\"\r\n              (userDropdown)=\"userDropdown($event)\"\r\n              (roleDropdown)=\"roleDropdown($event)\"\r\n              (policyDropdown)=\"policyDropdown($event)\"\r\n              (dropDownSelectedValues)=\"dropDownSelectedValues($event)\"></app-manage-access-radio>\r\n  \r\n            <h3 class=\"radio-title mb-2\">Page Access Management</h3>\r\n            <mat-card class=\"mat-card\">\r\n              <mat-card-content class=\"p-2\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-lg-3 col-md-6 col-12 mb-3\" *ngIf=\"false\">\r\n                    <label class=\"radio-title\">Modules</label>\r\n                    <angular2-multiselect\r\n                      [data]=\"moduleList\"\r\n                      [settings]=\"moduleDropdownSettings\"\r\n                      onSelect=\"loadSubModule('click')\"\r\n                      onDeSelect=\"removeSubModule($event)\"\r\n                      onSelectAll=\"loadSubModule('click')\"\r\n                      onDeSelectAll=\"removeAllSubModule()\"\r\n                      formControlName=\"module\"></angular2-multiselect>\r\n                  </div>\r\n                  <div class=\"col-lg-3 col-md-6 col-12 mb-3\" *ngIf=\"false\">\r\n                    <label class=\"radio-title\">Sub Modules</label>\r\n                    <angular2-multiselect\r\n                      [data]=\"subModuleList\"\r\n                      [settings]=\"submoduleDropdownSettings\"\r\n                      onSelect=\"loadSubModulePage('click')\"\r\n                      onDeSelect=\"removeSubModulePage($event, 'submodule')\"\r\n                      onSelectAll=\"loadSubModulePage('click')\"\r\n                      onDeSelectAll=\"removeAllSubModulePage()\"\r\n                      formControlName=\"submodule\">\r\n                    </angular2-multiselect>\r\n                  </div>\r\n                  <div class=\"col-lg-3 col-md-12 col-12 mb-3\">\r\n                    <label class=\"radio-title\">Pages</label>\r\n                    <angular2-multiselect\r\n                      [data]=\"pagesList\"\r\n                      [settings]=\"pageDropdownSettings\"\r\n                      (onSelect)=\"populatePage('click')\"\r\n                      fieldKey=\"SETTINGS_PAG_ACC_PAGE\"\r\n                      (onDeSelect)=\"populatePage('click')\"\r\n                      (onSelectAll)=\"populatePage('click')\"\r\n                      (onDeSelectAll)=\"removeAllPopulatePage()\"\r\n                      formControlName=\"pageList\"></angular2-multiselect>\r\n                  </div>\r\n                  <div class=\"col-lg-3 col-md-12 col-12 mb-3\">\r\n                    <label class=\"radio-title d-block required\">Provide Access by </label>\r\n                    <mat-radio-group formControlName=\"provideAccess\">\r\n                      <mat-radio-button\r\n                        value=\"1\"\r\n                        (click)=\"showLevelAccess('1')\"\r\n                        fieldKey=\"SETTINGS_PAG_ACC_PAGE_PAGE_LEVEL\"\r\n                        >Page Level&nbsp;&nbsp;\r\n                      </mat-radio-button>\r\n                      <mat-radio-button\r\n                        value=\"2\"\r\n                        (click)=\"showLevelAccess('2')\"\r\n                        fieldKey=\"SETTINGS_PAG_ACC_PAG_FIELD_LEVEL\"\r\n                        >Field Level\r\n                      </mat-radio-button>\r\n                    </mat-radio-group>\r\n                  </div>\r\n  \r\n                  <div class=\"col-lg-3 col-md-6 col-12 mb-3\" *ngIf=\"fieldLevelAccess\">\r\n                    <label class=\"radio-title\">Select Page</label>\r\n                    <br />\r\n                    <p-dropdown\r\n                      id=\"selectpage\"\r\n                      ariaLabelledBy=\"selectpage\"\r\n                      [options]=\"selectedPageData\"\r\n                      fieldKey=\"SETTINGS_PAG_ACC_PAGE\"\r\n                      (onChange)=\"getFieldLevelList('click')\"\r\n                      formControlName=\"fpages\"\r\n                      optionLabel=\"pagename\"\r\n                      optionValue=\"id\">\r\n                    </p-dropdown>\r\n                  </div>\r\n                </div>\r\n  \r\n                <div *ngIf=\"pageLevelAccess\" class=\"row\">\r\n                  <div class=\"col-12 mt-3 pageLevelAccessTable\">\r\n                    <table aria-describedby=\"pageLevelAccessTable\" class=\"table table-bordered\">\r\n                      <col />\r\n                      <col style=\"width: 120px\" />\r\n                      <col style=\"width: 120px\" />\r\n                      <col style=\"width: 120px\" />\r\n                      <thead>\r\n                        <th class=\"text-left\">Page Name</th>\r\n                        <th class=\"text-center\">R</th>\r\n                        <th class=\"text-center\">RW</th>\r\n                        <th class=\"text-center\">RWD</th>\r\n                        <th class=\"text-center\">None</th>\r\n                        <th class=\"text-center\">Validity</th>\r\n                      </thead>\r\n                      <tbody>\r\n                        <ng-container\r\n                          formArrayName=\"pageLevelData\"\r\n                          *ngFor=\"let fAccess of rbacForm.get('pageLevelData')['controls']; let i = index\">\r\n                          <tr [formGroup]=\"rbacForm.get('pageLevelData')['controls'][i]\">\r\n                            <td class=\"text-left\">\r\n                              <input\r\n                                style=\"border: none; pointer-events: none; width: 360px\"\r\n                                type=\"text\"\r\n                                formControlName=\"pageName\"\r\n                                placeholder=\"pageleveldata\" />\r\n                            </td>\r\n                            <td class=\"text-center\">\r\n                              <input\r\n                                (change)=\"changePageAccess(i)\"\r\n                                formControlName=\"pageAccess\"\r\n                                type=\"radio\"\r\n                                value=\"3\"\r\n                                title=\"pageradio{{ i }}\"\r\n                                fieldKey=\"SETTINGS_PAG_ACC_PAGE_PAGE_LEVEL_READ\" />\r\n                            </td>\r\n                            <td class=\"text-center\">\r\n                              <input\r\n                                (change)=\"changePageAccess(i)\"\r\n                                formControlName=\"pageAccess\"\r\n                                fieldKey=\"SETTINGS_PAG_ACC_PAGE_PAGE_LEVEL_READ_WRITE\"\r\n                                type=\"radio\"\r\n                                value=\"2\"\r\n                                title=\"pageradio{{ i }}\" />\r\n                            </td>\r\n                            <td class=\"text-center\">\r\n                              <input\r\n                                (change)=\"changePageAccess(i)\"\r\n                                formControlName=\"pageAccess\"\r\n                                fieldKey=\"SETTINGS_PAG_ACC_PAGE_PAGE_LEVEL_READ_WRITE_DELETE\"\r\n                                type=\"radio\"\r\n                                value=\"5\"\r\n                                title=\"pageradio{{ i }}\" />\r\n                            </td>\r\n                            <td class=\"text-center\">\r\n                              <input\r\n                                (change)=\"changePageAccess(i)\"\r\n                                formControlName=\"pageAccess\"\r\n                                fieldKey=\"SETTINGS_PAG_ACC_PAGE_PAGE_LEVEL_NONE\"\r\n                                type=\"radio\"\r\n                                value=\"4\"\r\n                                title=\"pageradio{{ i }}\" />\r\n                            </td>\r\n                            <td class=\"text-center\">\r\n                              <ng-container\r\n                                *ngIf=\"\r\n                                  rbacForm.get('pageList')?.value[i]?.activeVersion?.gridconfig ||\r\n                                  rbacForm.get('pageList')?.value[i]?.gridconfig\r\n                                \">\r\n                                <p-dropdown\r\n                                  [options]=\"conditions\"\r\n                                  styleClass=\"condition\"\r\n                                  formControlName=\"condition\"\r\n                                  placeholder=\"Select a condition\"\r\n                                  [disabled]=\"fAccess?.value?.pageAccess === '4'\"\r\n                                  optionLabel=\"name\"\r\n                                  optionValue=\"key\">\r\n                                </p-dropdown>\r\n                                <input\r\n                                  type=\"number\"\r\n                                  class=\"validity\"\r\n                                  *ngIf=\"fAccess?.value?.condition !== 'always'\"\r\n                                  [readonly]=\"fAccess?.value?.pageAccess === '4'\"\r\n                                  [min]=\"1\"\r\n                                  fieldKey=\"SETTINGS_PAG_ACC_PAGE_PAGE_LEVEL_VALIDITY\"\r\n                                  formControlName=\"validity\"\r\n                                  style=\"width: 50px; margin-left: 15px\"\r\n                                  pInputText />\r\n                                <p-dropdown\r\n                                  [options]=\"getFallbackPermission(fAccess)\"\r\n                                  styleClass=\"condition\"\r\n                                  formControlName=\"fallbackTo\"\r\n                                  *ngIf=\"fAccess?.value?.condition !== 'always'\"\r\n                                  placeholder=\"Select a permission\"\r\n                                  [disabled]=\"fAccess?.value?.pageAccess === '3' || fAccess?.value?.pageAccess === '4'\"\r\n                                  optionLabel=\"name\"\r\n                                  optionValue=\"key\"\r\n                                  [style]=\"{ 'margin-left': '15px' }\">\r\n                                </p-dropdown>\r\n                              </ng-container>\r\n                            </td>\r\n                          </tr>\r\n                        </ng-container>\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\" *ngIf=\"fieldLevelAccess\">\r\n                  <div class=\"col-12\">\r\n                    <div class=\"table-responsive\">\r\n                      <table aria-describedby=\"fieldLevelAccessTable\" class=\"table table-bordered\">\r\n                        <col />\r\n                        <col style=\"width: 120px\" />\r\n                        <col style=\"width: 120px\" />\r\n                        <col style=\"width: 120px\" />\r\n                        <thead>\r\n                          <th class=\"text-left\">Field Name</th>\r\n                          <th class=\"text-center\">Read</th>\r\n                          <th class=\"text-center\">Write</th>\r\n                          <th class=\"text-center\">None</th>\r\n                          <th class=\"text-center\" *ngIf=\"showFieldValidity\">Validity</th>\r\n                        </thead>\r\n                        <tbody>\r\n                          <ng-container\r\n                            formArrayName=\"fieldLevelData\"\r\n                            *ngFor=\"let fAccess of rbacForm.get('fieldLevelData')['controls']; let i = index\">\r\n                            <tr [formGroupName]=\"i\">\r\n                              <td class=\"text-left\">\r\n                                {{ fData[i]['displayname'] }}\r\n  \r\n                                <input type=\"hidden\" formControlName=\"assetid\" value=\"{{ fData[i]['id'] }}\" />\r\n                                <input type=\"hidden\" formControlName=\"pageId\" />\r\n                              </td>\r\n                              <td class=\"text-center\">\r\n                                <input\r\n                                  formControlName=\"access\"\r\n                                  (change)=\"changeFieldAccess($event)\"\r\n                                  type=\"radio\"\r\n                                  value=\"3\"\r\n                                  title=\"accessRadio{{ i }}\" />\r\n                              </td>\r\n                              <td class=\"text-center\">\r\n                                <input\r\n                                  formControlName=\"access\"\r\n                                  (change)=\"changeFieldAccess($event)\"\r\n                                  type=\"radio\"\r\n                                  value=\"2\"\r\n                                  title=\"accessRadio{{ i }}\" />\r\n                              </td>\r\n                              <td class=\"text-center\">\r\n                                <input\r\n                                  formControlName=\"access\"\r\n                                  (change)=\"changeFieldAccess($event)\"\r\n                                  type=\"radio\"\r\n                                  value=\"4\"\r\n                                  title=\"accessRadio{{ i }}\" />\r\n                              </td>\r\n                              <td class=\"text-center\" *ngIf=\"showFieldValidity\">\r\n                                <p-dropdown\r\n                                  [options]=\"conditions\"\r\n                                  styleClass=\"condition\"\r\n                                  [disabled]=\"fAccess?.value?.access === '4'\"\r\n                                  formControlName=\"condition\"\r\n                                  placeholder=\"Select a condition\"\r\n                                  optionLabel=\"name\"\r\n                                  optionValue=\"key\">\r\n                                </p-dropdown>\r\n                                <input\r\n                                  type=\"number\"\r\n                                  class=\"validity\"\r\n                                  *ngIf=\"fAccess?.value?.condition !== 'always'\"\r\n                                  [min]=\"1\"\r\n                                  formControlName=\"validity\"\r\n                                  [readonly]=\"fAccess?.value?.access === '4'\"\r\n                                  style=\"width: 50px; margin-left: 15px\"\r\n                                  pInputText />\r\n                                <p-dropdown\r\n                                  [options]=\"getFallbackPermission(fAccess)\"\r\n                                  styleClass=\"condition\"\r\n                                  formControlName=\"fallbackTo\"\r\n                                  *ngIf=\"fAccess?.value?.condition !== 'always'\"\r\n                                  placeholder=\"Select a permission\"\r\n                                  [disabled]=\"fAccess?.value?.access === '4' || fAccess?.value?.access === '3'\"\r\n                                  optionLabel=\"name\"\r\n                                  optionValue=\"key\"\r\n                                  [style]=\"{ 'margin-left': '15px' }\">\r\n                                </p-dropdown>\r\n                              </td>\r\n                            </tr>\r\n                          </ng-container>\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </mat-card-content>\r\n            </mat-card>\r\n          </form>\r\n          <div class=\"mt-3\" *ngIf=\"!fieldLevelAccess && selectedAccess === 'role'\">\r\n            <h3 class=\"radio-title mb-2\">Policy Groups associated with {{ selectedRole }}</h3>\r\n            <mat-card class=\"mt-2\">\r\n              <mat-card-content>\r\n                <div class=\"row\">\r\n                  <div class=\"col-12 mt-1\" *ngFor=\"let policyGroupPage of policyGroupPages\">\r\n                    <div class=\"radio-title mb-2\">Policy Group: {{ policyGroupPage.name }}</div>\r\n                    <div class=\"table-responsive\">\r\n                      <table id=\"policyGroupTable\" aria-describedby=\"policyGroupTable\" class=\"table table-bordered\">\r\n                        <col />\r\n                        <col style=\"width: 120px\" />\r\n                        <col style=\"width: 120px\" />\r\n                        <col style=\"width: 120px\" />\r\n                        <thead>\r\n                          <tr>\r\n                            <th scope=\"col\" class=\"text-left\">Page Name</th>\r\n                            <th scope=\"col\" class=\"text-center\">Read</th>\r\n                            <th scope=\"col\" class=\"text-center\">Write</th>\r\n                            <th scope=\"col\" class=\"text-center\">None</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          <ng-container *ngFor=\"let page of policyGroupPage?.data\">\r\n                            <tr>\r\n                              <td class=\"text-left\">\r\n                                <input\r\n                                  style=\"border: none; pointer-events: none; width: 360px\"\r\n                                  type=\"text\"\r\n                                  title=\"page?.page?.activeVersion?.pagename\"\r\n                                  [value]=\"page?.page?.activeVersion?.pagename\" />\r\n                              </td>\r\n  \r\n                              <td class=\"text-center\">\r\n                                <input\r\n                                  disabled\r\n                                  [checked]=\"page?.read\"\r\n                                  type=\"radio\"\r\n                                  fieldKey=\"SETTINGS_PAG_ACC_PAG_FIELD_LEVEL_READ\" />\r\n                              </td>\r\n                              <td class=\"text-center\">\r\n                                <input\r\n                                  disabled\r\n                                  [checked]=\"page?.readwrite\"\r\n                                  type=\"radio\"\r\n                                  fieldKey=\"SETTINGS_PAG_ACC_PAG_FIELD_LEVEL_WRITE\" />\r\n                              </td>\r\n  \r\n                              <td class=\"text-center\">\r\n                                <input\r\n                                  disabled\r\n                                  [checked]=\"page?.hide\"\r\n                                  type=\"radio\"\r\n                                  fieldKey=\"SETTINGS_PAG_ACC_PAG_FIELD_LEVEL_NONE\" />\r\n                              </td>\r\n                            </tr>\r\n                          </ng-container>\r\n                          <ng-container *ngIf=\"policyGroupPage?.data?.length === 0\">\r\n                            <tr>\r\n                              <td class=\"text-center\" colspan=\"4\">No pages associated with Policy Group.</td>\r\n                            </tr>\r\n                          </ng-container>\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </mat-card-content>\r\n            </mat-card>\r\n          </div>\r\n          <div class=\"text-right mt-3\">\r\n            <button class=\"btn btn-primary mr-2\" fieldKey=\"SETTINGS_PAG_ACC_BACK\" (click)=\"redirectList()\">Back</button>\r\n            <button class=\"btn btn-cancel mr-2\" fieldKey=\"SETTINGS_PAG_ACC_CLEAR\" (click)=\"resetForm()\">Clear</button>\r\n            <button class=\"btn btn-primary\" fieldKey=\"SETTINGS_PAG_ACC_SAVE\" (click)=\"saveRbac()\">Save</button>\r\n          </div>\r\n        </mat-card-content>\r\n      </mat-card>\r\n    </div>\r\n  </div>\r\n  \r\n", styles: [".mat-card-content .mat-radio-group .mat-radio-button{padding-right:10px;font-family:\"Roboto\",sans-serif!important}.toggleleft{font-size:var(--font-14);font-weight:600;display:block;padding-bottom:13px}:host ::ng-deep .p-dropdown.nobg{background-color:transparent;border:none}:host ::ng-deep .p-dropdown.nobg:hover,:host ::ng-deep .p-dropdown.nobg:focus{background-color:transparent!important;border:none!important}.pageLevelAccessTable table thead tr th,.pageLevelAccessTable table tbody tr td{vertical-align:middle;color:var(--text-dark)}.pageLevelAccessTable table thead tr th input,.pageLevelAccessTable table tbody tr td input{background:var(--bg-light);color:var(--text-dark)}.pageLevelAccessTable table thead tr th a:hover,.pageLevelAccessTable table tbody tr td a:hover{text-decoration:none}:host ::ng-deep .p-inputtext.validity{height:30px;line-height:13px}:host ::ng-deep .p-dropdown.condition{height:30px;line-height:13px}@media screen and (max-width: 990px){:host ::ng-deep .selected-list .c-list{width:calc(100% - 35px)!important}.pageLevelAccessTable{width:100%;overflow:auto}.pageLevelAccessTable .table{margin-bottom:60px}}\n"], components: [{ type: i4.MatCard, selector: "mat-card", exportAs: ["matCard"] }, { type: i5.ManageAccessRadioComponent, selector: "app-manage-access-radio", inputs: ["reloadForm"], outputs: ["accessBy", "policyDropdown", "roleDropdown", "userDropdown", "dropDownSelectedValues"] }, { type: i6.AngularMultiSelect, selector: "angular2-multiselect", inputs: ["settings", "data", "loading"], outputs: ["onSelect", "onDeSelect", "onSelectAll", "onDeSelectAll", "onOpen", "onClose", "onScrollToEnd", "onFilterSelectAll", "onFilterDeSelectAll", "onAddFilterNewItem", "onGroupSelect", "onGroupDeSelect"] }, { type: i7.MatRadioButton, selector: "mat-radio-button", inputs: ["disableRipple", "tabIndex"], exportAs: ["matRadioButton"] }, { type: i8.Dropdown, selector: "p-dropdown", inputs: ["scrollHeight", "filter", "name", "style", "panelStyle", "styleClass", "panelStyleClass", "readonly", "required", "editable", "appendTo", "tabindex", "placeholder", "filterPlaceholder", "filterLocale", "inputId", "selectId", "dataKey", "filterBy", "autofocus", "resetFilterOnHide", "dropdownIcon", "optionLabel", "optionValue", "optionDisabled", "optionGroupLabel", "optionGroupChildren", "autoDisplayFirst", "group", "showClear", "emptyFilterMessage", "emptyMessage", "virtualScroll", "itemSize", "autoZIndex", "baseZIndex", "showTransitionOptions", "hideTransitionOptions", "ariaFilterLabel", "ariaLabel", "ariaLabelledBy", "filterMatchMode", "maxlength", "tooltip", "tooltipPosition", "tooltipPositionStyle", "tooltipStyleClass", "autofocusFilter", "disabled", "options", "filterValue"], outputs: ["onChange", "onFilter", "onFocus", "onBlur", "onClick", "onShow", "onHide", "onClear"] }], directives: [{ type: i4.MatCardContent, selector: "mat-card-content, [mat-card-content], [matCardContent]" }, { type: i1.ɵNgNoValidate, selector: "form:not([ngNoForm]):not([ngNativeValidate])" }, { type: i1.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { type: i1.FormGroupDirective, selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { type: i9.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i1.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i1.FormControlName, selector: "[formControlName]", inputs: ["disabled", "formControlName", "ngModel"], outputs: ["ngModelChange"] }, { type: i10.PermissionDirective, selector: "[fieldKey]", inputs: ["fieldKey"] }, { type: i7.MatRadioGroup, selector: "mat-radio-group", exportAs: ["matRadioGroup"] }, { type: i9.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i1.FormArrayName, selector: "[formArrayName]", inputs: ["formArrayName"] }, { type: i1.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { type: i1.RadioControlValueAccessor, selector: "input[type=radio][formControlName],input[type=radio][formControl],input[type=radio][ngModel]", inputs: ["name", "formControlName", "value"] }, { type: i1.NumberValueAccessor, selector: "input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]" }, { type: i1.MinValidator, selector: "input[type=number][min][formControlName],input[type=number][min][formControl],input[type=number][min][ngModel]", inputs: ["min"] }, { type: i11.InputText, selector: "[pInputText]" }, { type: i1.FormGroupName, selector: "[formGroupName]", inputs: ["formGroupName"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: PageaccessComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'lib-pageaccess',
                    templateUrl: './pageaccess.component.html',
                    styleUrls: ['./pageaccess.component.scss']
                }]
        }], ctorParameters: function () { return [{ type: i0.Injector }, { type: i1.FormBuilder }, { type: i0.ChangeDetectorRef }, { type: i2.DataStoreService }, { type: i3.Router }]; }, propDecorators: { AddComponent: [{
                type: ViewChild,
                args: [ManageAccessRadioComponent]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFnZWFjY2Vzcy5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9waWNzLWNvcmUvcmJhYy1wYWdlYWNjZXNzL3NyYy9saWIvcGljcy1yYmFjLXBhZ2VhY2Nlc3MvcGFnZWFjY2Vzcy9wYWdlYWNjZXNzLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3BpY3MtY29yZS9yYmFjLXBhZ2VhY2Nlc3Mvc3JjL2xpYi9waWNzLXJiYWMtcGFnZWFjY2Vzcy9wYWdlYWNjZXNzL3BhZ2VhY2Nlc3MuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFxQixTQUFTLEVBQW9CLFNBQVMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMxRixPQUFPLEVBQUUsU0FBUyxFQUFlLFdBQVcsRUFBRSxTQUFTLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUVoRixPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sa0NBQWtDLENBQUM7QUFDaEUsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLCtCQUErQixDQUFDO0FBQzVELE9BQU8sRUFBRSwwQkFBMEIsRUFBRSxNQUFNLDhFQUE4RSxDQUFDO0FBQzFILE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLG1DQUFtQyxDQUFDO0FBRXRFLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxnQ0FBZ0MsQ0FBQztBQUU5RCxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sK0JBQStCLENBQUM7Ozs7Ozs7Ozs7Ozs7QUFRekQsTUFBTSxPQUFPLG1CQUFtQjtJQW1EOUIsWUFDRSxRQUFrQixFQUNWLFdBQXdCLEVBQ3pCLEtBQXdCLEVBQ3ZCLGFBQStCLEVBQy9CLE1BQWM7UUFIZCxnQkFBVyxHQUFYLFdBQVcsQ0FBYTtRQUN6QixVQUFLLEdBQUwsS0FBSyxDQUFtQjtRQUN2QixrQkFBYSxHQUFiLGFBQWEsQ0FBa0I7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VyxFQUFFLDZCQUE2QjtvQkFDMUMsU0FBUyxFQUFFLENBQUMsNkJBQTZCLENBQUM7aUJBQzNDOzZNQXFCd0MsWUFBWTtzQkFBbEQsU0FBUzt1QkFBQywwQkFBMEIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDaGFuZ2VEZXRlY3RvclJlZiwgQ29tcG9uZW50LCBJbmplY3RvciwgT25Jbml0LCBWaWV3Q2hpbGQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgRm9ybUFycmF5LCBGb3JtQnVpbGRlciwgRm9ybUNvbnRyb2wsIEZvcm1Hcm91cCB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcclxuaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcclxuaW1wb3J0IHsgQXBwQ29uc3RhbnRzIH0gZnJvbSAnLi4vQGNvcmUvY29uc3RhbnRzL2FwcC1jb25zdGFudHMnO1xyXG5pbXBvcnQgeyBBdXRoU2VydmljZSB9IGZyb20gJy4uL0Bjb3JlL3NlcnZpY2UvYXV0aC5zZXJ2aWNlJztcclxuaW1wb3J0IHsgTWFuYWdlQWNjZXNzUmFkaW9Db21wb25lbnQgfSBmcm9tICcuLi9AY29yZS9jb21tb24tY29tcG9uZW50cy9tYW5hZ2UtYWNjZXNzLXJhZGlvL21hbmFnZS1hY2Nlc3MtcmFkaW8uY29tcG9uZW50JztcclxuaW1wb3J0IHsgUGFnZUFjY2Vzc1NlcnZpY2UgfSBmcm9tICcuLi9AY29yZS91cmxzL3BhZ2UtYWNjZXNzLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBBc3NldCB9IGZyb20gJy4uL0Bjb3JlL3VybHMvYWNjZXNzX21hbmFnZW1lbnRfZGF0YW1vZGVsJztcclxuaW1wb3J0IHsgQWxlcnRTZXJ2aWNlIH0gZnJvbSAnLi4vQGNvcmUvc2VydmljZS9hbGVydC5zZXJ2aWNlJztcclxuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IFJCQUNJTkZPIH0gZnJvbSAnLi4vQGNvcmUvdXJscy9yYmFjLXVybC5jb25maWcnO1xyXG5pbXBvcnQgeyBEYXRhU3RvcmVTZXJ2aWNlIH0gZnJvbSAnLi4vQGNvcmUvc2VydmljZS9kYXRhLXN0b3JlLnNlcnZpY2UnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdsaWItcGFnZWFjY2VzcycsXHJcbiAgdGVtcGxhdGVVcmw6ICcuL3BhZ2VhY2Nlc3MuY29tcG9uZW50Lmh0bWwnLFxyXG4gIHN0eWxlVXJsczogWycuL3BhZ2VhY2Nlc3MuY29tcG9uZW50LnNjc3MnXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgUGFnZWFjY2Vzc0NvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XHJcblxyXG4gIHJiYWNGb3JtOiBGb3JtR3JvdXA7XHJcbiAgdXNlckxpc3Q6IGFueVtdID0gW107XHJcbiAgcG9saWN5R3JvdXBEYXRhOiBhbnlbXSA9IFtdO1xyXG4gIHJvbGVBZGRlZERhdGE6IGFueVtdID0gW107XHJcbiAgcGFnZUxldmVsQWNjZXNzID0gZmFsc2U7XHJcbiAgbXVsdGlQYWdlQWNjZXNzID0gZmFsc2U7XHJcbiAgZmllbGRMZXZlbEFjY2VzcyA9IGZhbHNlO1xyXG4gIG1vZHVsZUxpc3QgPSBbXTtcclxuICBzdWJNb2R1bGVMaXN0ID0gW107XHJcbiAgcGFnZURhdGEgPSBbXTtcclxuICBwYWdlc0xpc3QgPSBbXTtcclxuICBzZWxlY3RlZFBhZ2VEYXRhID0gW107XHJcbiAgZkRhdGEgPSBbXTtcclxuICBtb2R1bGVEcm9wZG93blNldHRpbmdzID0ge307XHJcbiAgc3VibW9kdWxlRHJvcGRvd25TZXR0aW5ncyA9IHt9O1xyXG4gIHBhZ2VEcm9wZG93blNldHRpbmdzID0ge307XHJcbiAgcGFnZUFjY2Vzc0Ryb3Bkb3duU2V0dGluZ3MgPSB7fTtcclxuICBmaWVsZEFjY2Vzc0Ryb3Bkb3duU2V0dGluZ3MgPSB7fTtcclxuICBAVmlld0NoaWxkKE1hbmFnZUFjY2Vzc1JhZGlvQ29tcG9uZW50KSBBZGRDb21wb25lbnQ7XHJcbiAgZmllbGRMZXZlbENsaWNrID0gZmFsc2U7XHJcbiAgZWRpdFBhZ2UgPSBmYWxzZTtcclxuICBzZWxlY3RlZEZpZWxkRGF0YTogYW55W10gPSBbXTtcclxuICBvcmdhbmlzYXRpb25pZDogYW55O1xyXG4gIGV4aXN0aW5nU2VsZWN0ZWRGaWVsZERhdGE6IGFueVtdO1xyXG4gIHNhdmVkUGFnZUFjY2Vzc1BhdGNoaW5nOiBib29sZWFuO1xyXG4gIHNhdmVkRmllbGRQYWdlc1BhdGNoaW5nOiBhbnlbXTtcclxuICBzZWxlY3RlZFBhZ2VMZXZlbERhdGE6IGFueVtdO1xyXG4gIHNlbGVjdGVkUGFnZUFjY2Vzc0NoYW5nZXMgPSBbXTtcclxuICBpc1J1bkNvbmQgPSB0cnVlO1xyXG4gIHNlbGVjdGVkQWNjZXNzOiBzdHJpbmc7XHJcbiAgdXBkYXRlUGFnZTogYm9vbGVhbjtcclxuICBzZWxlY3RlZElkOiBudW1iZXI7XHJcbiAgYXNzZXRMaXN0OiBhbnk7XHJcbiAgcG9saWN5R3JvdXBQYWdlczogQXJyYXk8YW55PiA9IFtdO1xyXG4gIHNlbGVjdGVkUm9sZSA9ICcnO1xyXG4gIGFsZXJ0OiBBbGVydFNlcnZpY2U7XHJcbiAgY29uZGl0aW9uczogQXJyYXk8YW55PiA9IFtdO1xyXG4gIHBlcm1pc3Npb25zOiBBcnJheTxhbnk+ID0gW107XHJcbiAgc2hvd0ZpZWxkVmFsaWRpdHk6IGJvb2xlYW47XHJcbiAgcGFnZUFjY2Vzc1NlcnZpY2U6IFBhZ2VBY2Nlc3NTZXJ2aWNlO1xyXG4gIG9yZ1N1YnM6IFN1YnNjcmlwdGlvbjtcclxuICBvcmdJZDogYW55O1xyXG4gIGVudmlyb25tZW50OiBhbnk7XHJcbiAgUkJBQ09SRzogUkJBQ0lORk8gPSBuZXcgUkJBQ0lORk8oKTtcclxuICBQRVJNSVNTSU9OOiBhbnk7XHJcbiAgYXV0aFNlcnZpY2U6IEF1dGhTZXJ2aWNlO1xyXG4gIHBJZDogYW55O1xyXG4gIGZ1bGxBcnJheTogYW55O1xyXG4gIG1lcmdlZEFzc2V0OiBhbnk7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBpbmplY3RvcjogSW5qZWN0b3IsXHJcbiAgICBwcml2YXRlIGZvcm1CdWlsZGVyOiBGb3JtQnVpbGRlcixcclxuICAgIHB1YmxpYyBjZFJlZjogQ2hhbmdlRGV0ZWN0b3JSZWYsXHJcbiAgICBwcml2YXRlIF9zdG9yZXNlcnZpY2U6IERhdGFTdG9yZVNlcnZpY2UsXHJcbiAgICBwcml2YXRlIHJvdXRlcjogUm91dGVyXHJcbiAgKSB7XHJcbiAgICB0aGlzLmFsZXJ0ID0gaW5qZWN0b3IuZ2V0PEFsZXJ0U2VydmljZT4oQWxlcnRTZXJ2aWNlKTtcclxuICAgIHRoaXMucGFnZUFjY2Vzc1NlcnZpY2UgPSBpbmplY3Rvci5nZXQ8UGFnZUFjY2Vzc1NlcnZpY2U+KFBhZ2VBY2Nlc3NTZXJ2aWNlKTtcclxuICAgIHRoaXMuYXV0aFNlcnZpY2UgPSBpbmplY3Rvci5nZXQ8QXV0aFNlcnZpY2U+KEF1dGhTZXJ2aWNlKTtcclxuICAgIHRoaXMudXBkYXRlUGFnZSA9IGZhbHNlO1xyXG4gICAgdGhpcy5zaG93RmllbGRWYWxpZGl0eSA9IGZhbHNlO1xyXG4gICAgdGhpcy5jb25kaXRpb25zID0gW1xyXG4gICAgICB7XHJcbiAgICAgICAgbmFtZTogJ0RheXMnLFxyXG4gICAgICAgIGtleTogJ2RheXMnXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBuYW1lOiAnQWx3YXlzJyxcclxuICAgICAgICBrZXk6ICdhbHdheXMnXHJcbiAgICAgIH1cclxuICAgIF07XHJcbiAgICB0aGlzLnBlcm1pc3Npb25zID0gW1xyXG4gICAgICB7XHJcbiAgICAgICAgbmFtZTogJ1InLFxyXG4gICAgICAgIGtleTogJ3InXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBuYW1lOiAnUlcnLFxyXG4gICAgICAgIGtleTogJ3J3J1xyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgbmFtZTogJ05vbmUnLFxyXG4gICAgICAgIGtleTogJ24nXHJcbiAgICAgIH1cclxuICAgIF07XHJcbiAgICB0aGlzLnBhZ2VEcm9wZG93blNldHRpbmdzID0ge1xyXG4gICAgICBzaW5nbGVTZWxlY3Rpb246IGZhbHNlLFxyXG4gICAgICB0ZXh0OiAnU2VsZWN0IFBhZ2VzJyxcclxuICAgICAgc2VsZWN0QWxsVGV4dDogJ1NlbGVjdCBBbGwnLFxyXG4gICAgICB1blNlbGVjdEFsbFRleHQ6ICdVblNlbGVjdCBBbGwnLFxyXG4gICAgICBlbmFibGVTZWFyY2hGaWx0ZXI6IHRydWUsXHJcbiAgICAgIGNsYXNzZXM6ICdteWNsYXNzIGN1c3RvbS1jbGFzcycsXHJcbiAgICAgIGxhYmVsS2V5OiAncGFnZW5hbWUnLFxyXG4gICAgICBzZWFyY2hCeTogWydwYWdlbmFtZSddXHJcbiAgICB9O1xyXG4gICAgdGhpcy5wYWdlQWNjZXNzRHJvcGRvd25TZXR0aW5ncyA9IHtcclxuICAgICAgc2luZ2xlU2VsZWN0aW9uOiBmYWxzZSxcclxuICAgICAgdGV4dDogJ1NlbGVjdCBQYWdlcycsXHJcbiAgICAgIHNlbGVjdEFsbFRleHQ6ICdTZWxlY3QgQWxsJyxcclxuICAgICAgdW5TZWxlY3RBbGxUZXh0OiAnVW5TZWxlY3QgQWxsJyxcclxuICAgICAgZW5hYmxlU2VhcmNoRmlsdGVyOiB0cnVlLFxyXG4gICAgICBsYWJlbEtleTogJ3BhZ2VuYW1lJyxcclxuICAgICAgc2VhcmNoQnk6IFsncGFnZW5hbWUnXVxyXG4gICAgfTtcclxuICAgIHRoaXMuZmllbGRBY2Nlc3NEcm9wZG93blNldHRpbmdzID0ge1xyXG4gICAgICBzaW5nbGVTZWxlY3Rpb246IHRydWUsXHJcbiAgICAgIHRleHQ6ICdTZWxlY3QgUGFnZScsXHJcbiAgICAgIHNlbGVjdEFsbFRleHQ6ICdTZWxlY3QgQWxsJyxcclxuICAgICAgdW5TZWxlY3RBbGxUZXh0OiAnVW5TZWxlY3QgQWxsJyxcclxuICAgICAgZW5hYmxlU2VhcmNoRmlsdGVyOiB0cnVlLFxyXG4gICAgICBsYWJlbEtleTogJ3BhZ2VuYW1lJyxcclxuICAgICAgc2VhcmNoQnk6IFsncGFnZW5hbWUnXVxyXG4gICAgfTtcclxuICAgIC8vIHRoaXMub3JnU3VicyA9IHRoaXMuYXV0aFNlcnZpY2Uub3JnSW5mby5zdWJzY3JpYmUob3JnID0+IHtcclxuICAgIC8vICAgdGhpcy5vcmdJZCA9IG9yZztcclxuICAgIC8vICAgaWYgKHRoaXMub3JnSWQpIHtcclxuICAgIC8vICAgICB0aGlzLmdldE9yZ2FuaXphdGlvblBhZ2UoKTtcclxuICAgIC8vICAgfVxyXG4gICAgLy8gfSk7XHJcbiAgfVxyXG5cclxuICBuZ09uSW5pdCgpOiB2b2lkIHtcclxuICAgIHRoaXMub3JnU3VicyA9ICB0aGlzLl9zdG9yZXNlcnZpY2UuY3VycmVudFN0b3JlLnN1YnNjcmliZSgocmVzOiBhbnkpID0+IHtcclxuICAgICAgaWYgKHJlc1snUkJBQ09SRyddICYmIHJlc1snUkJBQ09SRyddICE9PSAnJykge1xyXG4gICAgICAgIHRoaXMuUkJBQ09SRyA9IHJlc1snUkJBQ09SRyddO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuUkJBQ09SRywgJ1JCQUNPUkcgRXZlbnQgU2NoZWR1bGVyJyk7XHJcbiAgICAgICAgdGhpcy5lbnZpcm9ubWVudCA9IHRoaXMuUkJBQ09SR1snZW52aXJvbm1lbnQnXTtcclxuICAgICAgICB0aGlzLm9yZ0lkID0gcGFyc2VJbnQodGhpcy5SQkFDT1JHWydvcmdJRCddKTtcclxuICAgICAgICBpZih0aGlzLmVudmlyb25tZW50KXtcclxuICAgICAgICAgICB0aGlzLmdldE9yZ2FuaXphdGlvblBhZ2UoKTtcclxuICAgICAgICAgIHRoaXMubG9hZFJiYWNGb3JtKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbiAgbmdPbkRlc3Ryb3koKTogdm9pZCB7XHJcbiAgICB0aGlzLm9yZ1N1YnMudW5zdWJzY3JpYmUoKTtcclxuICB9XHJcbiAgbG9hZFJiYWNGb3JtKCkge1xyXG4gICAgdGhpcy5yYmFjRm9ybSA9IHRoaXMuZm9ybUJ1aWxkZXIuZ3JvdXAoe1xyXG4gICAgICBpZDogbmV3IEZvcm1Db250cm9sKG51bGwpLFxyXG4gICAgICBhY2Nlc3NCeTogbmV3IEZvcm1Db250cm9sKG51bGwpLFxyXG4gICAgICB1c2VyaWQ6IG5ldyBGb3JtQ29udHJvbCgnJyksXHJcbiAgICAgIHBvbGljeWlkOiBuZXcgRm9ybUNvbnRyb2wobnVsbCksXHJcbiAgICAgIHJvbGVpZDogbmV3IEZvcm1Db250cm9sKG51bGwpLFxyXG4gICAgICBwcm92aWRlQWNjZXNzOiBuZXcgRm9ybUNvbnRyb2wobnVsbCksXHJcbiAgICAgIHBhZ2VBY2Nlc3M6IG5ldyBGb3JtQ29udHJvbCgnMicpLFxyXG4gICAgICB2YWxpZGl0eTogbmV3IEZvcm1Db250cm9sKG51bGwpLFxyXG4gICAgICBtb2R1bGU6IG5ldyBGb3JtQ29udHJvbChudWxsKSxcclxuICAgICAgc3VibW9kdWxlOiBuZXcgRm9ybUNvbnRyb2wobnVsbCksXHJcbiAgICAgIHBhZ2VMaXN0OiBuZXcgRm9ybUNvbnRyb2wobnVsbCksXHJcbiAgICAgIHBwYWdlczogbmV3IEZvcm1Db250cm9sKG51bGwpLFxyXG4gICAgICBmcGFnZXM6IG5ldyBGb3JtQ29udHJvbChudWxsKSxcclxuICAgICAgZmllbGRMZXZlbERhdGE6IG5ldyBGb3JtQXJyYXkoW10pLFxyXG4gICAgICBwYWdlTGV2ZWxEYXRhOiBuZXcgRm9ybUFycmF5KFtdKVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhY2Nlc3NCeShldnQpIHtcclxuICAgIHRoaXMucmJhY0Zvcm0uZ2V0KCdhY2Nlc3NCeScpLnNldFZhbHVlKGV2dCk7XHJcbiAgICB0aGlzLnJlc2V0Rm9ybShldnQpO1xyXG4gIH1cclxuICB1c2VyRHJvcGRvd24oZXZ0KSB7XHJcbiAgICB0aGlzLnVzZXJMaXN0ID0gZXZ0O1xyXG4gIH1cclxuICByb2xlRHJvcGRvd24oZXZ0KSB7XHJcbiAgICB0aGlzLnJvbGVBZGRlZERhdGEgPSBldnQ7XHJcbiAgfVxyXG4gIHBvbGljeURyb3Bkb3duKGV2dCkge1xyXG4gICAgdGhpcy5wb2xpY3lHcm91cERhdGEgPSBldnQ7XHJcbiAgfVxyXG4gIGRyb3BEb3duU2VsZWN0ZWRWYWx1ZXMoZXZ0KSB7XHJcbiAgICB0aGlzLnNlbGVjdGVkUm9sZSA9ICcnO1xyXG4gICAgdGhpcy51cGRhdGVQYWdlID0gZmFsc2U7XHJcbiAgICB0aGlzLnNlbGVjdGVkQWNjZXNzID0gZXZ0LmZyb207XHJcbiAgICB0aGlzLnJiYWNGb3JtLmdldCgndXNlcmlkJykuc2V0VmFsdWUoZXZ0LnVzZXJpZCk7XHJcbiAgICB0aGlzLnJiYWNGb3JtLmdldCgncm9sZWlkJykuc2V0VmFsdWUoZXZ0LnJvbGVpZCk7XHJcbiAgICB0aGlzLnJiYWNGb3JtLmdldCgncG9saWN5aWQnKS5zZXRWYWx1ZShldnQucG9saWN5aWQpO1xyXG4gICAgaWYgKHRoaXMucGFnZXNMaXN0Lmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICB0aGlzLmdldE9yZ2FuaXphdGlvblBhZ2UoKTtcclxuICAgIH1cclxuICAgIHRoaXMuZ2V0U2VsZWN0ZWRQYWdlcygpO1xyXG4gICAgaWYgKGV2dC5mcm9tID09PSAncm9sZScpIHtcclxuICAgICAgdGhpcy5zZWxlY3RlZFJvbGUgPSBldnQucm9sZWlkO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0T3JnYW5pemF0aW9uUGFnZSgpIHtcclxuICAgIGlmICh0aGlzLm9yZ0lkKSB7XHJcbiAgICAgIHRoaXMucGFnZUFjY2Vzc1NlcnZpY2UuZ2V0T3JnYW5pemF0aW9uUGFnZSh0aGlzLm9yZ0lkKS5zdWJzY3JpYmUocmVzID0+IHtcclxuICAgICAgICBjb25zdCBkYXRhID0gcmVzWydkYXRhJ107XHJcbiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YT8ubGVuZ3RoKSB7XHJcbiAgICAgICAgICB0aGlzLnBhZ2VEYXRhID0gZGF0YT8uZmlsdGVyKGEgPT4gYS5hY3RpdmVWZXJzaW9uKTtcclxuICAgICAgICAgIHRoaXMucGFnZXNMaXN0ID0gdGhpcy5wYWdlRGF0YS5tYXAoeCA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgaWQ6IHguYWN0aXZlVmVyc2lvbi5wYWdlaWQsXHJcbiAgICAgICAgICAgICAgcGFnZW5hbWU6IHguYWN0aXZlVmVyc2lvbi5wYWdlbmFtZSxcclxuICAgICAgICAgICAgICBhY3RpdmVWZXJzaW9uOiB4LmFjdGl2ZVZlcnNpb25cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRGYWxsYmFja1Blcm1pc3Npb24oZkFjY2Vzcykge1xyXG4gICAgaWYgKGZBY2Nlc3M/LnZhbHVlPy5wYWdlQWNjZXNzID09PSAnMicgfHwgZkFjY2Vzcz8udmFsdWU/LmFjY2VzcyA9PT0gJzInKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnBlcm1pc3Npb25zLmZpbHRlcihhID0+IGEua2V5ICE9PSAncncnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnBlcm1pc3Npb25zO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0U2VsZWN0ZWRQYWdlcyhfc2VsZWN0ZWRQYWdlcz86IGFueSwgX3BhZ2VDb25maWc/OiBhbnksIF9hc3NldGNvbmZpZz86IGFueSkge1xyXG4gICAgdGhpcy51cGRhdGVQYWdlID0gZmFsc2U7XHJcbiAgICB0aGlzLnBvbGljeUdyb3VwUGFnZXMgPSBbXTtcclxuICAgIGlmICh0aGlzLnNlbGVjdGVkQWNjZXNzID09PSAndXNlcicpIHtcclxuICAgICAgdGhpcy5zZWxlY3RlZElkID0gdGhpcy5yYmFjRm9ybS5nZXRSYXdWYWx1ZSgpLnVzZXJpZDtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5zZWxlY3RlZEFjY2VzcyA9PT0gJ3JvbGUnKSB7XHJcbiAgICAgIGNvbnN0IHJvbGUgPSB0aGlzLnJiYWNGb3JtLmdldFJhd1ZhbHVlKCkucm9sZWlkO1xyXG4gICAgICB0aGlzLnNlbGVjdGVkSWQgPSByb2xlO1xyXG4gICAgICBpZiAocm9sZS5yb2xlUG9saWN5Z3JvdXBzICYmIHJvbGUucm9sZVBvbGljeWdyb3Vwcy5sZW5ndGgpIHtcclxuICAgICAgICByb2xlLnJvbGVQb2xpY3lncm91cHMuZm9yRWFjaChwb2xpY3lHcm91cCA9PiB7XHJcbiAgICAgICAgICB0aGlzLnBhZ2VBY2Nlc3NTZXJ2aWNlLmdldFBvbGljeUdyb3VwUGFnZShwb2xpY3lHcm91cC5wb2xpY3lncm91cGlkKS5zdWJzY3JpYmUoKHsgZGF0YSB9OiBhbnkpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wb2xpY3lHcm91cENvbmRpdGlvbihkYXRhLCBwb2xpY3lHcm91cCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zZWxlY3RlZElkID0gdGhpcy5yYmFjRm9ybS5nZXRSYXdWYWx1ZSgpLnBvbGljeWlkO1xyXG4gICAgICB0aGlzLnNlbGVjdGVkQWNjZXNzID0gJ3BvbGljeWdyb3VwJztcclxuICAgIH1cclxuICAgIHRoaXMuZ2V0Q29uZmlndXJlZEFzc2V0RGF0YSh0aGlzLnNlbGVjdGVkQWNjZXNzLCB0aGlzLnNlbGVjdGVkSWQpO1xyXG4gICAgdGhpcy5wYWdlQWNjZXNzU2VydmljZS5nZXREeW5hbWljUGFnZSh0aGlzLnNlbGVjdGVkQWNjZXNzLCB0aGlzLnNlbGVjdGVkSWQpLnN1YnNjcmliZShyZXMgPT4ge1xyXG4gICAgICB0aGlzLmxvYWRQYWdlcyhbXSwgbnVsbCwgW10sIFtdLCB0aGlzLmFzc2V0TGlzdCk7XHJcbiAgICAgIGlmIChyZXMgJiYgcmVzWydkYXRhJ10ubGVuZ3RoKSB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVQYWdlID0gdHJ1ZTtcclxuICAgICAgICBjb25zdCBwYWdlRGF0YSA9IHJlc1snZGF0YSddLm1hcChhID0+IGEucGFnZSk7XHJcbiAgICAgICAgcGFnZURhdGEuZm9yRWFjaCh4ID0+ICh4LnBhZ2VuYW1lID0geD8uYWN0aXZlVmVyc2lvbj8ucGFnZW5hbWUpKTtcclxuICAgICAgICBjb25zdCB1bmlxdWVQYWdlRGF0YSA9IFsuLi5uZXcgTWFwKHBhZ2VEYXRhLm1hcChpdGVtID0+IFtpdGVtWydpZCddLCBpdGVtXSkpLnZhbHVlcygpXTtcclxuICAgICAgICBjb25zdCBwYWdlSURzID0gdW5pcXVlUGFnZURhdGEubWFwKGEgPT4gYVsnaWQnXSk7XHJcbiAgICAgICAgY29uc3QgcGFnZUNvbmZpZ0RhdGEgPSByZXNbJ2RhdGEnXS5tYXAoYSA9PiB7XHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBpZDogYS5pZCxcclxuICAgICAgICAgICAgaXNmdWxsOiBhLmZ1bGwsXHJcbiAgICAgICAgICAgIGlzaGlkZTogYS5oaWRlLFxyXG4gICAgICAgICAgICBpc3JlYWQ6IGEucmVhZCxcclxuICAgICAgICAgICAgaXNyZWFkd3JpdGU6IGEucmVhZHdyaXRlLFxyXG4gICAgICAgICAgICBjb25kaXRpb25zOiBhLmNvbmRpdGlvbnNcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkUGFnZXModW5pcXVlUGFnZURhdGEsIG51bGwsIHBhZ2VJRHMsIHBhZ2VDb25maWdEYXRhLCB0aGlzLmFzc2V0TGlzdCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcG9saWN5R3JvdXBDb25kaXRpb24oZGF0YSwgcG9saWN5R3JvdXApIHtcclxuICAgIGNvbnN0IHBvbGljeUdyb3VwUGFnZXMgPSBkYXRhPy5kYXRhICYmIGRhdGE/LmRhdGEubGVuZ3RoID8gZGF0YT8uZGF0YSA6IFtdO1xyXG4gICAgY29uc3QgdW5pcXVlUG9saWN5R3JvdXBQYWdlcyA9IFsuLi5uZXcgTWFwKHBvbGljeUdyb3VwUGFnZXMubWFwKGl0ZW0gPT4gW2l0ZW1bJ3BhZ2UnXVsnaWQnXSwgaXRlbV0pKS52YWx1ZXMoKV07XHJcbiAgICB0aGlzLnBvbGljeUdyb3VwRGF0YSA9ICh0aGlzLnBvbGljeUdyb3VwRGF0YS5sZW5ndGggJiYgdGhpcy5wb2xpY3lHcm91cERhdGEpIHx8IHVuaXF1ZVBvbGljeUdyb3VwUGFnZXM7XHJcbiAgICB0aGlzLnBvbGljeUdyb3VwUGFnZXMucHVzaCh7XHJcbiAgICAgIG5hbWU6IHRoaXMucG9saWN5R3JvdXBEYXRhLmZpbmQocGdkID0+IHBnZC5wb2xpY3lncm91cC5pZCA9PT0gcG9saWN5R3JvdXAucG9saWN5Z3JvdXBpZCk/LnBvbGljeWdyb3VwXHJcbiAgICAgICAgPy5wb2xpY3lncm91cG5hbWUsXHJcbiAgICAgIGRhdGE6IHVuaXF1ZVBvbGljeUdyb3VwUGFnZXNcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZ2V0Q29uZmlndXJlZEFzc2V0RGF0YShzZWxlY3RlZEFjY2Vzcywgc2VsZWN0ZWRJZCkge1xyXG4gICAgdGhpcy5wYWdlQWNjZXNzU2VydmljZS5nZXRBc3NldEJ5SWQoc2VsZWN0ZWRBY2Nlc3MsIHNlbGVjdGVkSWQpLnN1YnNjcmliZSgocmVzOiBBc3NldFtdKSA9PiB7XHJcbiAgICAgIHRoaXMuYXNzZXRMaXN0ID0gcmVzWydkYXRhJ10ubWFwKGEgPT4ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBfaWQ6IGE/LmlkLFxyXG4gICAgICAgICAgaWQ6IGE/LmFzc2V0aWQsXHJcbiAgICAgICAgICBpc2Z1bGw6IGEuZnVsbCxcclxuICAgICAgICAgIGlzaGlkZTogYS5oaWRlLFxyXG4gICAgICAgICAgaXNyZWFkOiBhLnJlYWQsXHJcbiAgICAgICAgICBpc3JlYWR3cml0ZTogYS5yZWFkd3JpdGUsXHJcbiAgICAgICAgICBjb25kaXRpb25zOiBhLmNvbmRpdGlvbnNcclxuICAgICAgICB9O1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgbG9hZFBhZ2VzKHRlbXBQYWdlRGF0YSwgYWN0aW9uLCBwYWdlaWRzLCBwYWdlQ29uZmlnLCBmaWVsZENvbmZpZykge1xyXG4gICAgdGhpcy5wYWdlRGF0YSA9IHRlbXBQYWdlRGF0YSB8fCBbXTtcclxuICAgIHRoaXMucGFnZURhdGEuZm9yRWFjaChcclxuICAgICAgYSA9PiAoYS5wYWdlbmFtZSA9IHRlbXBQYWdlRGF0YS5sZW5ndGggJiYgdGVtcFBhZ2VEYXRhLmZpbHRlcihiID0+IGIuaWQgPT09IGEuaWQpWzBdPy5hY3RpdmVWZXJzaW9uPy5wYWdlbmFtZSlcclxuICAgICk7XHJcbiAgICBjb25zdCBwbCA9IHRoaXMucmJhY0Zvcm0uZ2V0KCdwYWdlTGlzdCcpLnZhbHVlO1xyXG4gICAgaWYgKHBhZ2VpZHMgIT09IG51bGwpIHtcclxuICAgICAgY29uc3QgbmV3UGFnZXMgPSBwbCAmJiBwbD8ubGVuZ3RoID8gcGwubWFwKGtleSA9PiBrZXkuaWQpIDogW107XHJcbiAgICAgIGNvbnN0IHBJZCA9IG5ld1BhZ2VzPy5sZW5ndGggPyBbLi4ubmV3IFNldChuZXdQYWdlcy5jb25jYXQocGFnZWlkcykpXSA6IHBhZ2VpZHM7XHJcbiAgICAgIGNvbnN0IHBMaXN0ID0gdGhpcy5wYWdlRGF0YS5maWx0ZXIoa2V5ID0+IHBJZC5pbmNsdWRlcyhrZXkuaWQpKTtcclxuICAgICAgY29uc3QgcGFnZXNMaXN0ID0gcExpc3QubWFwKHggPT4ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBpZDogeC5pZCxcclxuICAgICAgICAgIHBhZ2VuYW1lOiB4LnBhZ2VuYW1lLFxyXG4gICAgICAgICAgYWN0aXZlVmVyc2lvbjogeC5hY3RpdmVWZXJzaW9uXHJcbiAgICAgICAgfTtcclxuICAgICAgfSk7XHJcbiAgICAgIHRoaXMucmJhY0Zvcm0uZ2V0KCdwYWdlTGlzdCcpLnNldFZhbHVlKHBhZ2VzTGlzdCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLnBvcHVsYXRlUGFnZShhY3Rpb24sIHBhZ2VDb25maWcsIGZpZWxkQ29uZmlnLCBwYWdlaWRzKTtcclxuICB9XHJcblxyXG4gIHBvcHVsYXRlUGFnZShhY3Rpb24gPSBudWxsLCBwYWdlQ29uZmlnID0gbnVsbCwgZmllbGRDb25maWcgPSBudWxsLCBwYWdlaWRzID0gbnVsbCkge1xyXG4gICAgY29uc3QgcGFnZUlkcyA9IHRoaXMucmJhY0Zvcm0uZ2V0KCdwYWdlTGlzdCcpLnZhbHVlO1xyXG4gICAgY29uc3QgaWQgPSBwYWdlSWRzLm1hcChrZXkgPT4ga2V5LmlkKTtcclxuICAgIGxldCBwcm92aWRlQWNjZXNzID0gdGhpcy5yYmFjRm9ybS5nZXQoJ3Byb3ZpZGVBY2Nlc3MnKS52YWx1ZTtcclxuICAgIGlmIChpZD8ubGVuZ3RoKSB7XHJcbiAgICAgIGlmICghcHJvdmlkZUFjY2Vzcykge1xyXG4gICAgICAgIHRoaXMucmJhY0Zvcm0uZ2V0KCdwcm92aWRlQWNjZXNzJykuc2V0VmFsdWUoJzEnKTtcclxuICAgICAgICB0aGlzLnBhZ2VMZXZlbEFjY2VzcyA9IHRoaXMubXVsdGlQYWdlQWNjZXNzID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmZpZWxkTGV2ZWxBY2Nlc3MgPSBmYWxzZTtcclxuICAgICAgICBwcm92aWRlQWNjZXNzID0gJzEnO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIFBhZ2VpZHMgZnJvbSBhcGlcclxuICAgICAgdGhpcy5zZWxlY3RlZFBhZ2VEYXRhID0gcGFnZUlkcztcclxuICAgICAgaWYgKHByb3ZpZGVBY2Nlc3MgPT09ICcxJykge1xyXG4gICAgICAgIHRoaXMucmJhY0Zvcm0uZ2V0KCdwcGFnZXMnKS5zZXRWYWx1ZShwYWdlSWRzKTtcclxuICAgICAgICBpZiAoZmllbGRDb25maWc/Lmxlbmd0aCkge1xyXG4gICAgICAgICAgdGhpcy5zZWxlY3RlZEZpZWxkRGF0YSA9IHRoaXMucGFnZUFjY2Vzc1NlcnZpY2Uuc2V0U2VsZWN0ZWRGaWVsZFBhZ2UoXHJcbiAgICAgICAgICAgIGZpZWxkQ29uZmlnPy5tYXAoZWxlID0+IHtcclxuICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgZmllbGROYW1lOiBlbGU/LmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgYWNjZXNzOiB0aGlzLmNoZWNrQWNjZXNzVHlwZShlbGUpLFxyXG4gICAgICAgICAgICAgICAgYXNzZXRpZDogZWxlPy5hc3NldGlkLFxyXG4gICAgICAgICAgICAgICAgcGFnZUlkOiBlbGU/LmlkXHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRGaWVsZERhdGFcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZ2V0UGFnZUxldmVsTGlzdChhY3Rpb24sIHBhZ2VDb25maWcpO1xyXG4gICAgICB9IGVsc2UgaWYgKHByb3ZpZGVBY2Nlc3MgPT09ICcyJykge1xyXG4gICAgICAgIGlmIChmaWVsZENvbmZpZyAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgY29uc3QgcExpc3QgPSB0aGlzLnBhZ2VEYXRhLmZpbHRlcihrZXkgPT4ga2V5LmlkID09PSBwYWdlaWRzWzBdKTtcclxuICAgICAgICAgIHRoaXMucmJhY0Zvcm0uZ2V0KCdmcGFnZXMnKS5zZXRWYWx1ZShwTGlzdCk7XHJcbiAgICAgICAgICB0aGlzLmdldEZpZWxkTGV2ZWxMaXN0KGFjdGlvbiwgZmllbGRDb25maWcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb25zdCBwSWQgPSB0aGlzLnNlbGVjdGVkUGFnZURhdGEuZmlsdGVyKGVsZSA9PiBlbGUuaWQgPT09IHBhZ2VJZHNbMF0/LmlkKTtcclxuICAgICAgICAgIHRoaXMucmJhY0Zvcm0uZ2V0KCdmcGFnZXMnKS5zZXRWYWx1ZShwSWQpO1xyXG4gICAgICAgICAgdGhpcy5nZXRGaWVsZExldmVsTGlzdChhY3Rpb24sIGZpZWxkQ29uZmlnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMucmVtb3ZlQWxsUG9wdWxhdGVQYWdlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW1vdmVBbGxQb3B1bGF0ZVBhZ2UoKSB7XHJcbiAgICB0aGlzLnNlbGVjdGVkUGFnZURhdGEgPSBbXTtcclxuICAgIHRoaXMucGFnZUxldmVsQWNjZXNzID0gZmFsc2U7XHJcbiAgICB0aGlzLmZpZWxkTGV2ZWxBY2Nlc3MgPSBmYWxzZTtcclxuICAgIGNvbnN0IGYgPSA8Rm9ybUFycmF5PnRoaXMucmJhY0Zvcm0uY29udHJvbHNbJ2ZpZWxkTGV2ZWxEYXRhJ107XHJcbiAgICBmLmNvbnRyb2xzID0gW107XHJcbiAgICBjb25zdCBwID0gPEZvcm1BcnJheT50aGlzLnJiYWNGb3JtLmNvbnRyb2xzWydwYWdlTGV2ZWxEYXRhJ107XHJcbiAgICBwLmNvbnRyb2xzID0gW107XHJcbiAgICB0aGlzLnJiYWNGb3JtLmdldCgncHBhZ2VzJykuc2V0VmFsdWUobnVsbCk7XHJcbiAgICB0aGlzLnJiYWNGb3JtLmdldCgnZnBhZ2VzJykuc2V0VmFsdWUobnVsbCk7XHJcbiAgICB0aGlzLnJiYWNGb3JtLmdldCgncHJvdmlkZUFjY2VzcycpLnNldFZhbHVlKG51bGwpO1xyXG4gICAgdGhpcy5yYmFjRm9ybS5nZXQoJ3BhZ2VMZXZlbERhdGEnKS5zZXRWYWx1ZShbXSk7XHJcbiAgICB0aGlzLnJiYWNGb3JtLmdldCgnZmllbGRMZXZlbERhdGEnKS5zZXRWYWx1ZShbXSk7XHJcbiAgfVxyXG5cclxuICBzaG93TGV2ZWxBY2Nlc3MoaWQpIHtcclxuICAgIGNvbnN0IGYgPSA8Rm9ybUFycmF5PnRoaXMucmJhY0Zvcm0uY29udHJvbHNbJ2ZpZWxkTGV2ZWxEYXRhJ107XHJcbiAgICBpZiAoZi5nZXRSYXdWYWx1ZSgpPy5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5zZWxlY3RlZEZpZWxkRGF0YSA9IHRoaXMucGFnZUFjY2Vzc1NlcnZpY2Uuc2V0U2VsZWN0ZWRGaWVsZFBhZ2UoZi5nZXRSYXdWYWx1ZSgpLCB0aGlzLnNlbGVjdGVkRmllbGREYXRhKTtcclxuICAgIH1cclxuICAgIGYuY29udHJvbHMgPSBbXTtcclxuICAgIGNvbnN0IHBhZ2VJZHMgPSB0aGlzLnJiYWNGb3JtLmdldCgncGFnZUxpc3QnKS52YWx1ZTtcclxuICAgIGlmIChpZCA9PT0gJzEnKSB7XHJcbiAgICAgIHRoaXMucGFnZUxldmVsQWNjZXNzID0gdHJ1ZTtcclxuICAgICAgdGhpcy5tdWx0aVBhZ2VBY2Nlc3MgPSB0cnVlO1xyXG4gICAgICB0aGlzLmZpZWxkTGV2ZWxBY2Nlc3MgPSBmYWxzZTtcclxuICAgICAgaWYgKHBhZ2VJZHM/Lmxlbmd0aCkge1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgaWYgKCF0aGlzLnJiYWNGb3JtLmdldCgncHBhZ2VzJykudmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5yYmFjRm9ybS5nZXQoJ3BwYWdlcycpLnBhdGNoVmFsdWUocGFnZUlkcyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLmdldFBhZ2VMZXZlbExpc3QoJ2NsaWNrJyk7XHJcbiAgICAgICAgICBpZiAodGhpcy5pc1J1bkNvbmQpIHtcclxuICAgICAgICAgICAgdGhpcy5pc1J1bkNvbmQgPSBmYWxzZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LCAyMDApO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnBhZ2VMZXZlbEFjY2VzcyA9IGZhbHNlO1xyXG4gICAgICB0aGlzLm11bHRpUGFnZUFjY2VzcyA9IGZhbHNlO1xyXG4gICAgICB0aGlzLmZpZWxkTGV2ZWxBY2Nlc3MgPSB0cnVlO1xyXG4gICAgICBjb25zdCBmcGFnZXMgPSB0aGlzLnJiYWNGb3JtLmdldCgnZnBhZ2VzJykudmFsdWU7XHJcbiAgICAgIHRoaXMuZlBhZ2VzQ2hlY2tMZW5ndGgoZnBhZ2VzLCBwYWdlSWRzKTtcclxuICAgICAgdGhpcy5zZWxlY3RlZFBhZ2VMZXZlbERhdGEgPSB0aGlzLnJiYWNGb3JtLmdldCgncGFnZUxldmVsRGF0YScpLnZhbHVlO1xyXG4gICAgICBjb25zb2xlLmxvZyh0aGlzLnNlbGVjdGVkUGFnZUxldmVsRGF0YSk7XHJcbiAgICAgIFxyXG4gICAgICB0aGlzLmdldEZpZWxkTGV2ZWxMaXN0KCdjbGljaycpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZlBhZ2VzQ2hlY2tMZW5ndGgoZnBhZ2VzLCBwYWdlSWRzKSB7XHJcbiAgICBpZiAoIWZwYWdlcyB8fCAhZnBhZ2VzPy5sZW5ndGgpIHtcclxuICAgICAgaWYgKHBhZ2VJZHM/Lmxlbmd0aCkge1xyXG4gICAgICAgIGNvbnN0IHAgPSBbcGFnZUlkc1swXV07XHJcbiAgICAgICAgdGhpcy5yYmFjRm9ybS5nZXQoJ2ZwYWdlcycpLnNldFZhbHVlKHApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIGdldFBhZ2VMZXZlbExpc3QoYWN0aW9uID0gbnVsbCwgcGFnZUNvbmZpZyA9IG51bGwpIHtcclxuICAgIGNvbnN0IGFjY2Vzc0FycmF5ID0gdGhpcy5yYmFjRm9ybS5nZXQoJ3BhZ2VMZXZlbERhdGEnKSBhcyBGb3JtQXJyYXk7XHJcbiAgICBjb25zb2xlLmxvZyhhY2Nlc3NBcnJheSk7XHJcbiAgICBcclxuICAgIGNvbnN0IGZvcm1WYWx1ZSA9IHRoaXMucmJhY0Zvcm0uZ2V0UmF3VmFsdWUoKTtcclxuICAgIGNvbnN0IHBBY2Nlc3NJZCA9IHRoaXMucmJhY0Zvcm0uZ2V0KCdwcGFnZXMnKS52YWx1ZTtcclxuICAgIGNvbnNvbGUubG9nKHBBY2Nlc3NJZCk7XHJcbiAgICBcclxuICAgIGNvbnN0IHBJZCA9IHBBY2Nlc3NJZC5tYXAoa2V5ID0+IGtleS5wYWdlaWQgfHwga2V5LmlkKTtcclxuICAgIC8vIGZpcnN0IGNoZWNrIGV4aXN0IHBhZ2UgY29uZmlnXHJcbiAgICBpZiAocGFnZUNvbmZpZyAhPT0gbnVsbCkge1xyXG4gICAgICAvLyBjaGVjayBzZWxlY3RlZCB2YWx1ZSBsZW5ndGhcclxuICAgICAgbGV0IGV4aXN0U2VsZWN0ZWRQYWdlSWQgPSBbXTtcclxuICAgICAgaWYgKGZvcm1WYWx1ZS5wYWdlTGV2ZWxEYXRhLmxlbmd0aCkge1xyXG4gICAgICAgIGV4aXN0U2VsZWN0ZWRQYWdlSWQgPSBmb3JtVmFsdWUucGFnZUxldmVsRGF0YS5tYXAoaWQgPT4gaWQuaWQpO1xyXG4gICAgICB9XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcElkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgbGV0IHNldEFjY2VzcyA9ICcnO1xyXG4gICAgICAgIHNldEFjY2VzcyA9IHRoaXMucGFnZUFjY2Vzc1NlcnZpY2UuZ2V0QWNjZXNzKHBhZ2VDb25maWdbaV0pO1xyXG4gICAgICAgIGNvbnN0IHBhZ2VOYW1lID0gdGhpcy5wYWdlRGF0YS5maWx0ZXIoa2V5ID0+IGtleS5pZCA9PT0gcElkW2ldKTtcclxuICAgICAgICBpZiAoZXhpc3RTZWxlY3RlZFBhZ2VJZC5sZW5ndGgpIHtcclxuICAgICAgICAgIHRoaXMuZ2V0VmVyc2lvbkFjY2Vzc0FycmF5KGV4aXN0U2VsZWN0ZWRQYWdlSWQsIHBJZCwgaSwgYWNjZXNzQXJyYXksIHBhZ2VOYW1lLCBzZXRBY2Nlc3MsIHBhZ2VDb25maWcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLmdldFBhZ2VBY2Nlc3NBcnJheShwSWQsIGksIGFjY2Vzc0FycmF5LCBwYWdlTmFtZSwgc2V0QWNjZXNzLCBwYWdlQ29uZmlnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMuZm9yQWN0aW9uQ2xpY2soYWN0aW9uLCBwSWQsIGFjY2Vzc0FycmF5KTtcclxuICB9XHJcblxyXG4gIGdldFZlcnNpb25BY2Nlc3NBcnJheShleGlzdFNlbGVjdGVkUGFnZUlkLCBwSWQsIGksIGFjY2Vzc0FycmF5LCBwYWdlTmFtZSwgc2V0QWNjZXNzLCBwYWdlQ29uZmlnKSB7XHJcbiAgICBjb25zdCBjaGVja1BpZCA9IGV4aXN0U2VsZWN0ZWRQYWdlSWQuaW5jbHVkZXMocElkW2ldKTtcclxuICAgIGlmICghY2hlY2tQaWQpIHtcclxuICAgICAgYWNjZXNzQXJyYXkucHVzaChcclxuICAgICAgICBuZXcgRm9ybUdyb3VwKHtcclxuICAgICAgICAgIHBhZ2VOYW1lOiBuZXcgRm9ybUNvbnRyb2wocGFnZU5hbWVbMF1bJ2FjdGl2ZVZlcnNpb24nXVsncGFnZW5hbWUnXSksXHJcbiAgICAgICAgICBwYWdlaWQ6IG5ldyBGb3JtQ29udHJvbChwSWRbaV0pLFxyXG4gICAgICAgICAgcGFnZUFjY2VzczogbmV3IEZvcm1Db250cm9sKHNldEFjY2VzcyksXHJcbiAgICAgICAgICB2YWxpZGl0eTogbmV3IEZvcm1Db250cm9sKChwYWdlQ29uZmlnW2ldLmNvbmRpdGlvbnMgJiYgcGFnZUNvbmZpZ1tpXS5jb25kaXRpb25zLnZhbHVlKSB8fCAnMScpLFxyXG4gICAgICAgICAgY29uZGl0aW9uOiBuZXcgRm9ybUNvbnRyb2wocGFnZUNvbmZpZ1tpXS5jb25kaXRpb25zID8gJ2RheXMnIDogJ2Fsd2F5cycpLFxyXG4gICAgICAgICAgZmFsbGJhY2tUbzogbmV3IEZvcm1Db250cm9sKChwYWdlQ29uZmlnW2ldLmNvbmRpdGlvbnMgJiYgcGFnZUNvbmZpZ1tpXS5jb25kaXRpb25zLmZhbGxiYWNrVG8pIHx8ICduJylcclxuICAgICAgICB9KVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0UGFnZUFjY2Vzc0FycmF5KHBJZCwgaSwgYWNjZXNzQXJyYXksIHBhZ2VOYW1lLCBzZXRBY2Nlc3MsIHBhZ2VDb25maWcpIHtcclxuICAgIGFjY2Vzc0FycmF5LnB1c2goXHJcbiAgICAgIG5ldyBGb3JtR3JvdXAoe1xyXG4gICAgICAgIHBhZ2VOYW1lOiBuZXcgRm9ybUNvbnRyb2wocGFnZU5hbWVbMF1bJ3BhZ2VuYW1lJ10pLFxyXG4gICAgICAgIHBhZ2VpZDogbmV3IEZvcm1Db250cm9sKHBJZFtpXSksXHJcbiAgICAgICAgcGFnZUFjY2VzczogbmV3IEZvcm1Db250cm9sKHNldEFjY2VzcyksXHJcbiAgICAgICAgdmFsaWRpdHk6IG5ldyBGb3JtQ29udHJvbCgocGFnZUNvbmZpZ1tpXS5jb25kaXRpb25zICYmIHBhZ2VDb25maWdbaV0uY29uZGl0aW9ucy52YWx1ZSkgfHwgJzEnKSxcclxuICAgICAgICBjb25kaXRpb246IG5ldyBGb3JtQ29udHJvbChwYWdlQ29uZmlnW2ldLmNvbmRpdGlvbnMgPyAnZGF5cycgOiAnYWx3YXlzJyksXHJcbiAgICAgICAgZmFsbGJhY2tUbzogbmV3IEZvcm1Db250cm9sKChwYWdlQ29uZmlnW2ldLmNvbmRpdGlvbnMgJiYgcGFnZUNvbmZpZ1tpXS5jb25kaXRpb25zLmZhbGxiYWNrVG8pIHx8ICduJylcclxuICAgICAgfSlcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBmb3JBY3Rpb25DbGljayhhY3Rpb24sIHBJZCwgYWNjZXNzQXJyYXkpIHtcclxuICAgIGlmIChhY3Rpb24gPT09ICdjbGljaycpIHtcclxuICAgICAgY29uc3QgZXhpc3RpbmdWYWx1ZSA9IHRoaXMuc2VsZWN0ZWRQYWdlTGV2ZWxEYXRhPy5sZW5ndGggPyB0aGlzLnNlbGVjdGVkUGFnZUxldmVsRGF0YSA6IGFjY2Vzc0FycmF5LmdldFJhd1ZhbHVlKCk7XHJcbiAgICAgIGxldCBwYWdlc0Zyb21GaWVsZCA9IEFycmF5LmZyb20obmV3IFNldChbLi4udGhpcy5zZWxlY3RlZEZpZWxkRGF0YV0ubWFwKGVsZSA9PiBlbGUucGFnZUlkKSkpLmZpbHRlcihlbGUgPT4gZWxlKTtcclxuICAgICAgaWYgKHBJZD8ubGVuZ3RoKSB7XHJcbiAgICAgICAgcGFnZXNGcm9tRmllbGQgPSBwSWQ7XHJcbiAgICAgICAgY29uc29sZS5sb2cocGFnZXNGcm9tRmllbGQpXHJcbiAgICAgICAgY29uc29sZS5sb2cocElkKTtcclxuICAgICAgICBcclxuICAgICAgICBcclxuICAgICAgfVxyXG4gICAgICBpZiAocGFnZXNGcm9tRmllbGQ/Lmxlbmd0aCkge1xyXG4gICAgICAgIGFjY2Vzc0FycmF5LmNvbnRyb2xzID0gW107XHJcbiAgICAgICAgYWNjZXNzQXJyYXkuY29udHJvbHMgPSB0aGlzLnBhZ2VBY2Nlc3NTZXJ2aWNlLmdldEFjY2Vzc0FycmF5T25DbGljayhcclxuICAgICAgICAgIHBhZ2VzRnJvbUZpZWxkLFxyXG4gICAgICAgICAgdGhpcy5wYWdlc0xpc3QsXHJcbiAgICAgICAgICB0aGlzLnNlbGVjdGVkRmllbGREYXRhLFxyXG4gICAgICAgICAgdGhpcy5zYXZlZFBhZ2VBY2Nlc3NQYXRjaGluZyxcclxuICAgICAgICAgIGV4aXN0aW5nVmFsdWVcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuc2F2ZWRQYWdlQWNjZXNzUGF0Y2hpbmcgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY2hlY2tBY2Nlc3NUeXBlKGRhdGE6IGFueSk6IGFueSB7XHJcbiAgICBpZiAoZGF0YT8uaXNmdWxsKSB7XHJcbiAgICAgIHJldHVybiAnMic7XHJcbiAgICB9IGVsc2UgaWYgKGRhdGE/LmlzaGlkZSkge1xyXG4gICAgICByZXR1cm4gJzQnO1xyXG4gICAgfSBlbHNlIGlmIChkYXRhPy5pc3JlYWQpIHtcclxuICAgICAgcmV0dXJuICczJztcclxuICAgIH0gZWxzZSBpZiAoZGF0YT8uaXNyZWFkd3JpdGUpIHtcclxuICAgICAgcmV0dXJuICcyJztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldEZpZWxkTGV2ZWxMaXN0KGFjdGlvbiA9IG51bGwsIGZpZWxkQ29uZmlnID0gbnVsbCkge1xyXG4gICAgY29uc3QgYWNjZXNzQXJyYXkgPSB0aGlzLnJiYWNGb3JtLmdldCgnZmllbGRMZXZlbERhdGEnKSBhcyBGb3JtQXJyYXk7XHJcbiAgICBjb25zdCBmb3JtVmFsdWUgPSB0aGlzLnJiYWNGb3JtLmdldFJhd1ZhbHVlKCk7XHJcblxyXG4gICAgY29uc3QgcEFjY2Vzc0lkID0gdGhpcy5yYmFjRm9ybS5nZXQoJ2ZwYWdlcycpLnZhbHVlO1xyXG4gICAgY29uc3QgcGFnZUlkcyA9IHRoaXMucmJhY0Zvcm0uZ2V0KCdwYWdlTGlzdCcpLnZhbHVlO1xyXG4gICAgY29uc3QgZmllbGRMZXZlbCA9IHBhZ2VJZHMuZmlsdGVyKHggPT4geC5pZCA9PT0gcEFjY2Vzc0lkKTtcclxuICAgIHRoaXMuY2hlY2tGaWVsZExldmVsQ29uZGl0aW9uKGZpZWxkTGV2ZWwsIHBBY2Nlc3NJZCk7XHJcbiAgICB0aGlzLmZpZWxkQ29uZmlnQ2hlY2soZmllbGRDb25maWcsIGFjY2Vzc0FycmF5KTtcclxuICAgIGlmIChhY3Rpb24gPT09ICdjbGljaycpIHtcclxuICAgICAgYWNjZXNzQXJyYXkuY29udHJvbHMgPSBbXTtcclxuICAgICAgdGhpcy5wYWdlQWNjZXNzU2VydmljZS5nZXRBc3NldEJ5UGFnZUlkKHRoaXMucElkKS5zdWJzY3JpYmUocmVzID0+IHtcclxuICAgICAgICBjb25zdCBkYXRhID0gcmVzWydkYXRhJ107XHJcbiAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5nZXRBY2Nlc3NBcnJheUNoZWNrKGRhdGEsIGZvcm1WYWx1ZSwgYWNjZXNzQXJyYXkpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNoZWNrRmllbGRMZXZlbENvbmRpdGlvbihmaWVsZExldmVsLCBwQWNjZXNzSWQpIHtcclxuICAgIGlmIChmaWVsZExldmVsLmxlbmd0aCA+IDApIHtcclxuICAgICAgdGhpcy5zaG93RmllbGRWYWxpZGl0eSA9IGZpZWxkTGV2ZWxbMF0udGVtcGxhdGVqc29uID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICB0aGlzLmZpZWxkVmVyc2lvbkNoZWNrKGZpZWxkTGV2ZWwsIHBBY2Nlc3NJZCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNob3dGaWVsZFZhbGlkaXR5ID0gcEFjY2Vzc0lkWzBdLnRlbXBsYXRlanNvbiA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgaWYgKHBBY2Nlc3NJZFswXVsndmVyc2lvbiddKSB7XHJcbiAgICAgICAgdGhpcy5wSWQgPSBwQWNjZXNzSWRbMF0ucGFnZWlkO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMucElkID0gcEFjY2Vzc0lkICYmIHBBY2Nlc3NJZD8ubGVuZ3RoID8gcEFjY2Vzc0lkWzBdWydpZCddIDogbnVsbDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZmllbGRWZXJzaW9uQ2hlY2soZmllbGRMZXZlbCwgcEFjY2Vzc0lkKSB7XHJcbiAgICBpZiAoZmllbGRMZXZlbFswXVsndmVyc2lvbiddKSB7XHJcbiAgICAgIHRoaXMucElkID0gZmllbGRMZXZlbFswXS5wYWdlaWQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShwQWNjZXNzSWQpKSB7XHJcbiAgICAgICAgdGhpcy5wSWQgPSBwQWNjZXNzSWQgJiYgcEFjY2Vzc0lkPy5sZW5ndGggPyBwQWNjZXNzSWRbMF1bJ2lkJ10gOiBudWxsO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMucElkID0gcEFjY2Vzc0lkO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmaWVsZENvbmZpZ0NoZWNrKGZpZWxkQ29uZmlnLCBhY2Nlc3NBcnJheSkge1xyXG4gICAgaWYgKGZpZWxkQ29uZmlnICE9PSBudWxsKSB7XHJcbiAgICAgIGFjY2Vzc0FycmF5LmNvbnRyb2xzID0gW107XHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRGaWVsZERhdGEgPSB0aGlzLnBhZ2VBY2Nlc3NTZXJ2aWNlLnNldFNlbGVjdGVkRmllbGRQYWdlKFxyXG4gICAgICAgIGZpZWxkQ29uZmlnPy5tYXAoZWxlID0+IHtcclxuICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGZpZWxkTmFtZTogZWxlPy5kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgYWNjZXNzOiB0aGlzLmNoZWNrQWNjZXNzVHlwZShlbGUpLFxyXG4gICAgICAgICAgICBhc3NldGlkOiBlbGUuYXNzZXRpZCxcclxuICAgICAgICAgICAgcGFnZUlkOiBlbGUuaWRcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfSksXHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZEZpZWxkRGF0YVxyXG4gICAgICApO1xyXG4gICAgICB0aGlzLmV4aXN0aW5nU2VsZWN0ZWRGaWVsZERhdGEgPSBbLi4udGhpcy5zZWxlY3RlZEZpZWxkRGF0YV07XHJcbiAgICAgIHRoaXMucGFnZUFjY2Vzc1NlcnZpY2UuZ2V0QXNzZXRCeVBhZ2VJZCh0aGlzLnBJZCkuc3Vic2NyaWJlKHJlcyA9PiB7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IHJlc1snZGF0YSddO1xyXG5cclxuICAgICAgICB0aGlzLm1lcmdlZEFzc2V0ID0gdGhpcy5tZXJnZUFzc2V0KGRhdGEsIHRoaXMuYXNzZXRMaXN0KTtcclxuICAgICAgICBpZiAodGhpcy5tZXJnZWRBc3NldC5pbmNsdWRlcyh1bmRlZmluZWQpKSB7XHJcbiAgICAgICAgICB0aGlzLm1lcmdlZEFzc2V0ID0gZGF0YTtcclxuICAgICAgICAgIGlmICh0aGlzLm1lcmdlZEFzc2V0Lmxlbmd0aCAhPT0gZGF0YT8ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWVyZ2VkQXNzZXQgPSBkYXRhO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmZEYXRhID0gZGF0YTtcclxuICAgICAgICB0aGlzLmdldE1lcmdlZEFzc2V0KGFjY2Vzc0FycmF5KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRNZXJnZWRBc3NldChhY2Nlc3NBcnJheSkge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1lcmdlZEFzc2V0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IGFjY2VzcyA9IHRoaXMucGFnZUFjY2Vzc1NlcnZpY2UuZ2V0QWNjZXNzKHRoaXMubWVyZ2VkQXNzZXRbaV0pO1xyXG4gICAgICBhY2Nlc3NBcnJheS5wdXNoKFxyXG4gICAgICAgIG5ldyBGb3JtR3JvdXAoe1xyXG4gICAgICAgICAgZmllbGROYW1lOiBuZXcgRm9ybUNvbnRyb2woYWNjZXNzW2ldWydkaXNwbGF5bmFtZSddKSxcclxuICAgICAgICAgIGFjY2VzczogbmV3IEZvcm1Db250cm9sKCcyJyksXHJcbiAgICAgICAgICBhc3NldGlkOiBuZXcgRm9ybUNvbnRyb2woYWNjZXNzW2ldWydpZCddKSxcclxuICAgICAgICAgIHBhZ2VJZDogbmV3IEZvcm1Db250cm9sKHRoaXMucElkKSxcclxuICAgICAgICAgIHZhbGlkaXR5OiBuZXcgRm9ybUNvbnRyb2wodGhpcy5tZXJnZWRBc3NldFtpXS5jb25kaXRpb25zID8gdGhpcy5tZXJnZWRBc3NldFtpXS5jb25kaXRpb25zLnZhbHVlIDogJzEnKSxcclxuICAgICAgICAgIGNvbmRpdGlvbjogbmV3IEZvcm1Db250cm9sKHRoaXMubWVyZ2VkQXNzZXRbaV0uY29uZGl0aW9ucyA/ICdkYXlzJyA6ICdhbHdheXMnKSxcclxuICAgICAgICAgIGZhbGxiYWNrVG86IG5ldyBGb3JtQ29udHJvbCh0aGlzLm1lcmdlZEFzc2V0W2ldLmNvbmRpdGlvbnMgPyB0aGlzLm1lcmdlZEFzc2V0W2ldLmNvbmRpdGlvbnMuZmFsbGJhY2tUbyA6ICcnKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRBY2Nlc3NBcnJheUNoZWNrKGRhdGEsIGZvcm1WYWx1ZSwgYWNjZXNzQXJyYXkpIHtcclxuICAgIGlmIChkYXRhPy5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5tZXJnZWRBc3NldCA9IHRoaXMuYXNzZXRMaXN0ID8gdGhpcy5tZXJnZUFzc2V0KGRhdGEsIHRoaXMuYXNzZXRMaXN0KSA6IGRhdGE7XHJcbiAgICAgIHRoaXMuY2hlY2tNZXJnZWRBc3NldChkYXRhKTtcclxuICAgICAgaWYgKGZvcm1WYWx1ZS5maWVsZExldmVsRGF0YS5sZW5ndGgpIHtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkRmllbGREYXRhID0gdGhpcy5wYWdlQWNjZXNzU2VydmljZS5zZXRTZWxlY3RlZEZpZWxkUGFnZShcclxuICAgICAgICAgIGZvcm1WYWx1ZS5maWVsZExldmVsRGF0YSxcclxuICAgICAgICAgIHRoaXMuc2VsZWN0ZWRGaWVsZERhdGFcclxuICAgICAgICApO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc2VsZWN0ZWRGaWVsZERhdGEpO1xyXG4gICAgICAgIFxyXG4gICAgICB9XHJcbiAgICAgIGxldCBhY2Nlc3MgPSBudWxsO1xyXG4gICAgICBpZiAodGhpcy5zYXZlZEZpZWxkUGFnZXNQYXRjaGluZz8ubGVuZ3RoKSB7XHJcbiAgICAgICAgYWNjZXNzID0gdGhpcy5zYXZlZEZpZWxkUGFnZXNQYXRjaGluZy5maW5kKGVsZSA9PiBlbGUucGFnZWlkID09PSB0aGlzLnBJZCk/LmFjY2VzcztcclxuICAgICAgICB0aGlzLnNhdmVkRmllbGRQYWdlc1BhdGNoaW5nID0gdGhpcy5zYXZlZEZpZWxkUGFnZXNQYXRjaGluZy5maWx0ZXIoZWxlID0+IGVsZS5wYWdlaWQgIT09IHRoaXMucElkKTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmZEYXRhID0gZGF0YTtcclxuICAgICAgY29uc3QgZXhpc3RpbmdGaWVsZERhdGFNYXAgPSB7fTtcclxuICAgICAgaWYgKCFhY2Nlc3MgJiYgdGhpcy5zZWxlY3RlZEZpZWxkRGF0YT8ubGVuZ3RoKSB7XHJcbiAgICAgICAgdGhpcy5hc3NldExpc3RcclxuICAgICAgICAgID8uZmlsdGVyKGVsZSA9PiBlbGUucGFnZUlkID09PSB0aGlzLnBJZClcclxuICAgICAgICAgID8uZm9yRWFjaChlbGUgPT4ge1xyXG4gICAgICAgICAgICBleGlzdGluZ0ZpZWxkRGF0YU1hcFtlbGUuYXNzZXRpZF0gPSBlbGUuYWNjZXNzO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5nZXRBY2Nlc3NCeUFzc2V0KGFjY2Vzc0FycmF5KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFjY2Vzc0FycmF5LmNvbnRyb2xzID0gW107XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjaGVja01lcmdlZEFzc2V0KGRhdGEpIHtcclxuICAgIGlmICh0aGlzLm1lcmdlZEFzc2V0LmluY2x1ZGVzKHVuZGVmaW5lZCkpIHtcclxuICAgICAgdGhpcy5tZXJnZWRBc3NldCA9IGRhdGE7XHJcbiAgICAgIGlmICh0aGlzLm1lcmdlZEFzc2V0Lmxlbmd0aCAhPT0gZGF0YS5sZW5ndGgpIHtcclxuICAgICAgICB0aGlzLm1lcmdlZEFzc2V0ID0gZGF0YTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0QWNjZXNzQnlBc3NldChhY2Nlc3NBcnJheSkge1xyXG4gICAgZm9yIChjb25zdCBhc3NldCBvZiB0aGlzLm1lcmdlZEFzc2V0KSB7XHJcbiAgICAgIGNvbnN0IGFzc2V0QWNjZXNzID0gdGhpcy5wYWdlQWNjZXNzU2VydmljZS5nZXRBY2Nlc3MoYXNzZXQpO1xyXG4gICAgICBhY2Nlc3NBcnJheS5wdXNoKFxyXG4gICAgICAgIG5ldyBGb3JtR3JvdXAoe1xyXG4gICAgICAgICAgZmllbGROYW1lOiBuZXcgRm9ybUNvbnRyb2woYXNzZXRbJ2Rpc3BsYXluYW1lJ10pLFxyXG4gICAgICAgICAgYWNjZXNzOiBuZXcgRm9ybUNvbnRyb2woYXNzZXRBY2Nlc3MgPyBhc3NldEFjY2VzcyA6ICcyJyksXHJcbiAgICAgICAgICBhc3NldGlkOiBuZXcgRm9ybUNvbnRyb2woYXNzZXRbJ2lkJ10pLFxyXG4gICAgICAgICAgcGFnZUlkOiBuZXcgRm9ybUNvbnRyb2wodGhpcy5wSWQpLFxyXG4gICAgICAgICAgdmFsaWRpdHk6IG5ldyBGb3JtQ29udHJvbChhc3NldC5jb25kaXRpb25zID8gYXNzZXQuY29uZGl0aW9ucy52YWx1ZSA6ICcxJyksXHJcbiAgICAgICAgICBjb25kaXRpb246IG5ldyBGb3JtQ29udHJvbChhc3NldC5jb25kaXRpb25zID8gJ2RheXMnIDogJ2Fsd2F5cycpLFxyXG4gICAgICAgICAgZmFsbGJhY2tUbzogbmV3IEZvcm1Db250cm9sKGFzc2V0LmNvbmRpdGlvbnMgPyBhc3NldC5jb25kaXRpb25zLmZhbGxiYWNrVG8gOiAnJylcclxuICAgICAgICB9KVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1cclxuICBtZXJnZUFzc2V0KGFycjE6IGFueSwgYXJyMjogYW55KSB7XHJcbiAgICByZXR1cm4gYXJyMS5tYXAoKGl0ZW0sIF9pKSA9PiB7XHJcbiAgICAgIGZvciAoY29uc3QgdmFsdWUgb2YgYXJyMikge1xyXG4gICAgICAgIGlmIChpdGVtLmlkID09PSB2YWx1ZS5pZCkge1xyXG4gICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGl0ZW0sIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc2F2ZVJiYWMoKSB7XHJcbiAgICBjb25zdCBhY2Nlc3MgPSB0aGlzLnJiYWNGb3JtLmdldFJhd1ZhbHVlKCk7XHJcblxyXG4gICAgY29uc3QgX3VybCA9ICcnO1xyXG4gICAgY29uc3QgdXNlcmlkID0gdGhpcy5yYmFjRm9ybS5nZXQoJ3VzZXJpZCcpLnZhbHVlO1xyXG4gICAgY29uc3Qgcm9sZUlkID0gdGhpcy5yYmFjRm9ybS5nZXQoJ3JvbGVpZCcpLnZhbHVlO1xyXG4gICAgY29uc3QgcG9saWN5SWQgPSB0aGlzLnJiYWNGb3JtLmdldCgncG9saWN5aWQnKS52YWx1ZTtcclxuICAgIGNvbnN0IHBhZ2VMZXZlbERhdGEgPSBhY2Nlc3MucGFnZUxldmVsRGF0YTtcclxuICAgIGNvbnN0IGZpZWxkTGV2ZWxEYXRhID0gYWNjZXNzLmZpZWxkTGV2ZWxEYXRhO1xyXG4gICAgaWYgKHRoaXMuZmllbGRMZXZlbEFjY2VzcyA9PT0gZmFsc2UpIHtcclxuICAgICAgdGhpcy5nZXRQYWdlTGV2ZWxCeUFycmF5KHBhZ2VMZXZlbERhdGEpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5nZXRGaWVsZExldmVsQnlBc3NldChmaWVsZExldmVsRGF0YSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5maWVsZExldmVsQWNjZXNzKSB7XHJcbiAgICAgIGxldCBzZWxlY3RlZElkOiBhbnk7XHJcbiAgICAgIGlmICh0aGlzLnNlbGVjdGVkQWNjZXNzID09PSAndXNlcicpIHtcclxuICAgICAgICBzZWxlY3RlZElkID0gdGhpcy5yYmFjRm9ybS5nZXRSYXdWYWx1ZSgpLnVzZXJpZDtcclxuICAgICAgfSBlbHNlIGlmICh0aGlzLnNlbGVjdGVkQWNjZXNzID09PSAncm9sZScpIHtcclxuICAgICAgICBzZWxlY3RlZElkID0gdGhpcy5yYmFjRm9ybS5nZXRSYXdWYWx1ZSgpLnJvbGVpZDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzZWxlY3RlZElkID0gdGhpcy5yYmFjRm9ybS5nZXRSYXdWYWx1ZSgpLnBvbGljeWlkO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRBY2Nlc3MgPSAncG9saWN5Z3JvdXAnO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMucGFnZUFjY2Vzc1NlcnZpY2UuY3JlYXRlQXNzZXQodGhpcy5zZWxlY3RlZEFjY2Vzcywgc2VsZWN0ZWRJZCwgdGhpcy5mdWxsQXJyYXkpLnN1YnNjcmliZShfcmVzID0+IHtcclxuICAgICAgICB0aGlzLmdldENvbmZpZ3VyZWRBc3NldERhdGEodGhpcy5zZWxlY3RlZEFjY2Vzcywgc2VsZWN0ZWRJZCk7XHJcbiAgICAgICAgdGhpcy5hbGVydC5zdWNjZXNzKCdGaWVsZCBBY2Nlc3MgVXBkYXRlZCBTdWNjZXNzZnVsbHknKTtcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAodGhpcy51cGRhdGVQYWdlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRBY2Nlc3MgPT09ICdwb2xpY3knKSB7XHJcbiAgICAgICAgICB0aGlzLnNlbGVjdGVkQWNjZXNzID0gJ3BvbGljeWdyb3VwJztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wYWdlQWNjZXNzU2VydmljZS51cGRhdGVEeW5hbWljUGFnZSh0aGlzLnNlbGVjdGVkQWNjZXNzLCB0aGlzLnNlbGVjdGVkSWQsIHRoaXMuZnVsbEFycmF5KS5zdWJzY3JpYmUoXHJcbiAgICAgICAgICBfcmVzID0+IHtcclxuICAgICAgICAgICAgdGhpcy5hbGVydC5zdWNjZXNzKCdBY2Nlc3MgVXBkYXRlZCBTdWNjZXNzZnVsbHknKTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBfZXJyID0+IHRoaXMuYWxlcnQuZXJyb3IoQXBwQ29uc3RhbnRzLmVycm9yTWVzc2FnZSlcclxuICAgICAgICApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMucGFnZUFjY2Vzc1NlcnZpY2VcclxuICAgICAgICAgIC5jcmVhdGVBY2Nlc3ModGhpcy5maWVsZExldmVsQWNjZXNzLCBhY2Nlc3MuYWNjZXNzQnksIHRoaXMuZnVsbEFycmF5LCB1c2VyaWQsIHJvbGVJZCwgcG9saWN5SWQpXHJcbiAgICAgICAgICAuc3Vic2NyaWJlKFxyXG4gICAgICAgICAgICBfcmVzdWx0ID0+IHtcclxuICAgICAgICAgICAgICB0aGlzLmFsZXJ0LnN1Y2Nlc3MoJ0FjY2VzcyBTYXZlZCBTdWNjZXNzZnVsbHknKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2Vycm9yID0+IHRoaXMuYWxlcnQuZXJyb3IoQXBwQ29uc3RhbnRzLmVycm9yTWVzc2FnZSlcclxuICAgICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldFBhZ2VMZXZlbEJ5QXJyYXkocGFnZUxldmVsRGF0YSkge1xyXG4gICAgdGhpcy5mdWxsQXJyYXkgPSBwYWdlTGV2ZWxEYXRhLm1hcCh4ID0+IHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBwYWdlOiB4LnBhZ2VpZCxcclxuICAgICAgICByZWFkd3JpdGU6IHg/LnBhZ2VBY2Nlc3MgPT09ICcyJyA/IHRydWUgOiBmYWxzZSxcclxuICAgICAgICByZWFkOiB4Py5wYWdlQWNjZXNzID09PSAnMycgPyB0cnVlIDogZmFsc2UsXHJcbiAgICAgICAgbm9uZTogeD8ucGFnZUFjY2VzcyA9PT0gJzQnID8gdHJ1ZSA6IGZhbHNlLFxyXG4gICAgICAgIGZ1bGw6IHg/LnBhZ2VBY2Nlc3MgPT09ICc1JyA/IHRydWUgOiBmYWxzZSxcclxuICAgICAgICBjb25kaXRpb25zOlxyXG4gICAgICAgICAgeC5jb25kaXRpb24gIT09ICdhbHdheXMnXHJcbiAgICAgICAgICAgID8ge1xyXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlOiAnY3JlYXRlZCcsXHJcbiAgICAgICAgICAgICAgICBjb25kaXRpb246ICdsdGUnLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IHgudmFsaWRpdHksIC8vZGF5cywgbWludXRlcywgYWx3YXlzXHJcbiAgICAgICAgICAgICAgICB2YWx1ZV90eXBlOiAndmFyaWFibGUnLCAvL2NvbnN0YW50LCBwcm9wZXJ0eSwgdmFyaWFibGVcclxuICAgICAgICAgICAgICAgIGZhbGxiYWNrVG86IHguZmFsbGJhY2tUbyxcclxuICAgICAgICAgICAgICAgIHR5cGU6ICd0aW1lc3RhbXAnXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICA6IG51bGxcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZ2V0RmllbGRMZXZlbEJ5QXNzZXQoZmllbGRMZXZlbERhdGEpIHtcclxuICAgIHRoaXMuZnVsbEFycmF5ID0gZmllbGRMZXZlbERhdGEubWFwKHggPT4ge1xyXG4gICAgICBjb25zdCBhc3NldERhdGEgPSB0aGlzLmFzc2V0TGlzdD8uZmlsdGVyKGEgPT4gYS5pZCA9PT0geC5hc3NldGlkICYmIGEpO1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGlkOiBhc3NldERhdGEgPyBhc3NldERhdGFbMF0/Ll9pZCA6IG51bGwsXHJcbiAgICAgICAgYXNzZXQ6IHguYXNzZXRpZCxcclxuICAgICAgICByZWFkd3JpdGU6IHg/LmFjY2VzcyA9PT0gJzInID8gdHJ1ZSA6IGZhbHNlLFxyXG4gICAgICAgIHJlYWQ6IHg/LmFjY2VzcyA9PT0gJzMnID8gdHJ1ZSA6IGZhbHNlLFxyXG4gICAgICAgIG5vbmU6IHg/LmFjY2VzcyA9PT0gJzQnID8gdHJ1ZSA6IGZhbHNlLFxyXG4gICAgICAgIGZ1bGw6IHg/LmFjY2VzcyA9PT0gJzUnID8gdHJ1ZSA6IGZhbHNlLFxyXG4gICAgICAgIGNvbmRpdGlvbnM6XHJcbiAgICAgICAgICB4LmNvbmRpdGlvbiAhPT0gJ2Fsd2F5cydcclxuICAgICAgICAgICAgPyB7XHJcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGU6ICdjcmVhdGVkJyxcclxuICAgICAgICAgICAgICAgIGNvbmRpdGlvbjogJ2x0ZScsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogeC52YWxpZGl0eSwgLy9kYXlzLCBtaW51dGVzLCBhbHdheXNcclxuICAgICAgICAgICAgICAgIHZhbHVlX3R5cGU6ICd2YXJpYWJsZScsIC8vY29uc3RhbnQsIHByb3BlcnR5LCB2YXJpYWJsZVxyXG4gICAgICAgICAgICAgICAgZmFsbGJhY2tUbzogeC5mYWxsYmFja1RvLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogJ3RpbWVzdGFtcCdcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIDogbnVsbFxyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIC8vIGVkaXQgZnVuY3Rpb25hbGl0ZXMgYmFzZWQgb24gcG9saWN5IGdyb3VwXHJcbiAgc2V0UG9saWN5TGV2ZWxQYWdlUGF0Y2hpbmcocGFnZUNvbmZpZywgYXNzZXRjb25maWcpIHtcclxuICAgIGNvbnN0IHBhZ2VJZHMgPSBwYWdlQ29uZmlnLm1hcChrZXkgPT4ga2V5LnBhZ2VpZCk7XHJcbiAgICBjb25zdCBzZWxlY3RlZE1vZHVsZXMgPSBbXTtcclxuICAgIGNvbnN0IHVuaXF1ZVBhZ2UgPSBbLi4ubmV3IFNldChwYWdlSWRzKV07XHJcbiAgICBjb25zdCBzZWxlY3RlZFBhZ2VzID0gdW5pcXVlUGFnZTtcclxuICAgIHRoaXMucmJhY0Zvcm0uZ2V0KCdwcm92aWRlQWNjZXNzJykuc2V0VmFsdWUoJzEnKTtcclxuICAgIHRoaXMucGFnZUxldmVsQWNjZXNzID0gdGhpcy5tdWx0aVBhZ2VBY2Nlc3MgPSB0cnVlO1xyXG4gICAgdGhpcy5maWVsZExldmVsQWNjZXNzID0gZmFsc2U7XHJcbiAgICBjb25zdCBtID0gdGhpcy5yYmFjRm9ybS5nZXQoJ21vZHVsZScpLnZhbHVlO1xyXG4gICAgaWYgKG0gIT09ICcnICYmIG0gIT09IG51bGwpIHtcclxuICAgICAgY29uc3QgbmV3TW9kdWxlID0gbS5jb25jYXQoc2VsZWN0ZWRNb2R1bGVzKTtcclxuICAgICAgY29uc3QgdW5pcXVlTmV3TW9kdWxlID0gWy4uLm5ldyBTZXQobmV3TW9kdWxlKV07XHJcbiAgICAgIHRoaXMucmJhY0Zvcm0uZ2V0KCdtb2R1bGUnKS5zZXRWYWx1ZSh1bmlxdWVOZXdNb2R1bGUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5yYmFjRm9ybS5nZXQoJ21vZHVsZScpLnNldFZhbHVlKHNlbGVjdGVkTW9kdWxlcyk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmdldFNlbGVjdGVkUGFnZXMoc2VsZWN0ZWRQYWdlcywgcGFnZUNvbmZpZywgYXNzZXRjb25maWcpO1xyXG4gIH1cclxuXHJcbiAgc2V0UG9saWN5TGV2ZWxGaWVsZFBhdGNoaW5nKHBhZ2VDb25maWcsIGFzc2V0Y29uZmlnLCBmcm9tID0gbnVsbCkge1xyXG4gICAgY29uc3QgbUtleSA9IGFzc2V0Y29uZmlnLmZpbHRlcihcclxuICAgICAga2V5ID0+IGtleS5tb2R1bGVrZXkgIT09IG51bGwgJiYga2V5Lm1vZHVsZWtleSAhPT0gJycgJiYga2V5LmlzYWN0aXZlICE9PSAnJyAmJiBrZXkuaXNhY3RpdmUgIT09IG51bGxcclxuICAgICk7XHJcbiAgICBjb25zdCBtbWtleSA9IG1LZXkubWFwKGtleSA9PiBrZXkubW9kdWxla2V5KTtcclxuICAgIGNvbnN0IG1vZHVsZXMgPSB0aGlzLm1vZHVsZUxpc3QuZmlsdGVyKGtleSA9PiBtbWtleS5pbmNsdWRlcyhrZXkucmVmS2V5KSk7XHJcbiAgICBjb25zdCBwYWdlSWQgPSBhc3NldGNvbmZpZy5maWx0ZXIoa2V5ID0+IGtleS5wYWdlaWQgIT09IG51bGwpO1xyXG4gICAgY29uc3QgcGFnZUlkcyA9IHBhZ2VJZC5tYXAoa2V5ID0+IGtleS5wYWdlaWQpO1xyXG4gICAgbGV0IHNlbGVjdGVkTW9kdWxlczogYW55O1xyXG4gICAgc2VsZWN0ZWRNb2R1bGVzID0gWy4uLm5ldyBTZXQobW9kdWxlcyldO1xyXG4gICAgY29uc3QgdW5pcXVlUGFnZSA9IFsuLi5uZXcgU2V0KHBhZ2VJZHMpXTtcclxuICAgIGNvbnN0IHNlbGVjdGVkUGFnZXMgPSB1bmlxdWVQYWdlO1xyXG4gICAgdGhpcy5yYmFjRm9ybS5nZXQoJ3Byb3ZpZGVBY2Nlc3MnKS5zZXRWYWx1ZSgnMicpO1xyXG4gICAgdGhpcy5wYWdlTGV2ZWxBY2Nlc3MgPSB0aGlzLm11bHRpUGFnZUFjY2VzcyA9IGZhbHNlO1xyXG4gICAgdGhpcy5maWVsZExldmVsQWNjZXNzID0gdHJ1ZTtcclxuICAgIGlmIChmcm9tID09PSAnZmllbGQnKSB7XHJcbiAgICAgIGNvbnN0IG0gPSB0aGlzLnJiYWNGb3JtLmdldCgnbW9kdWxlJykudmFsdWU7XHJcbiAgICAgIGlmIChtICE9PSAnJykge1xyXG4gICAgICAgIGNvbnN0IG1rID0gc2VsZWN0ZWRNb2R1bGVzLmNvbmNhdChtKTtcclxuICAgICAgICBzZWxlY3RlZE1vZHVsZXMgPSBtaztcclxuICAgICAgICB0aGlzLnJiYWNGb3JtLmdldCgnbW9kdWxlJykuc2V0VmFsdWUoc2VsZWN0ZWRNb2R1bGVzKTtcclxuICAgICAgfVxyXG4gICAgICBjb25zdCBzbSA9IHRoaXMucmJhY0Zvcm0uZ2V0KCdzdWJtb2R1bGUnKS52YWx1ZTtcclxuICAgICAgaWYgKHNtICE9PSAnJykge1xyXG4gICAgICAgIHRoaXMucmJhY0Zvcm0uZ2V0KCdtb2R1bGUnKS5zZXRWYWx1ZShzZWxlY3RlZE1vZHVsZXMpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnJiYWNGb3JtLmdldCgnbW9kdWxlJykuc2V0VmFsdWUoc2VsZWN0ZWRNb2R1bGVzKTtcclxuICAgIH1cclxuICAgIHRoaXMuZ2V0U2VsZWN0ZWRQYWdlcyhzZWxlY3RlZFBhZ2VzLCBwYWdlQ29uZmlnLCBhc3NldGNvbmZpZyk7XHJcbiAgfVxyXG5cclxuICBnZXREYXRhQmFzZWRPblBvbGljeShmcm9tID0gbnVsbCkge1xyXG4gICAgY29uc3QgcG9saWN5aWRzID0gdGhpcy5yYmFjRm9ybS5nZXQoJ3BvbGljeWlkJykudmFsdWUubWFwKGEgPT4gYS5pZCk7XHJcbiAgICBpZiAocG9saWN5aWRzLmxlbmd0aCkge1xyXG4gICAgICB0aGlzLmVkaXRQYWdlID0gdHJ1ZTtcclxuICAgICAgdGhpcy5wYWdlTGV2ZWxBY2Nlc3MgPSBmYWxzZTtcclxuICAgICAgdGhpcy5maWVsZExldmVsQWNjZXNzID0gZmFsc2U7XHJcbiAgICAgIGNvbnN0IGYgPSA8Rm9ybUFycmF5PnRoaXMucmJhY0Zvcm0uY29udHJvbHNbJ2ZpZWxkTGV2ZWxEYXRhJ107XHJcbiAgICAgIGYuY29udHJvbHMgPSBbXTtcclxuICAgICAgY29uc3QgcCA9IDxGb3JtQXJyYXk+dGhpcy5yYmFjRm9ybS5jb250cm9sc1sncGFnZUxldmVsRGF0YSddO1xyXG4gICAgICBwLmNvbnRyb2xzID0gW107XHJcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcG9saWN5aWRzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgY29uc3QgcGFnZUNvbmZpZyA9IHRoaXMucG9saWN5R3JvdXBEYXRhLmZpbHRlcihrZXkgPT4ga2V5LmlkID09PSBwb2xpY3lpZHNbal0pO1xyXG4gICAgICAgIGlmIChmcm9tID09PSAnZmllbGQnKSB7XHJcbiAgICAgICAgICB0aGlzLmVkaXRQYWdlID0gZmFsc2U7XHJcbiAgICAgICAgICBpZiAocGFnZUNvbmZpZ1swXS5hc3NldENvbmZpZ3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0UG9saWN5TGV2ZWxGaWVsZFBhdGNoaW5nKHBhZ2VDb25maWdbMF0ucGFnZUNvbmZpZ3MsIHBhZ2VDb25maWdbMF0uYXNzZXRDb25maWdzLCBmcm9tKTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAocG9saWN5aWRzLmxlbmd0aCA9PT0gaiArIDEpIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93TGV2ZWxBY2Nlc3MoJzInKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5nZXRDaGVja1BhZ2VDb25maWcocGFnZUNvbmZpZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnJlc2V0Rm9ybSgnMycpO1xyXG4gICAgICB0aGlzLnJiYWNGb3JtLmdldCgnYWNjZXNzQnknKS5zZXRWYWx1ZSgnMycpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0Q2hlY2tQYWdlQ29uZmlnKHBhZ2VDb25maWcpIHtcclxuICAgIGlmIChwYWdlQ29uZmlnWzBdLnBhZ2VDb25maWdzLmxlbmd0aCkge1xyXG4gICAgICB0aGlzLmZpZWxkTGV2ZWxDbGljayA9IHRydWU7XHJcbiAgICAgIHRoaXMuc2V0UG9saWN5TGV2ZWxQYWdlUGF0Y2hpbmcocGFnZUNvbmZpZ1swXS5wYWdlQ29uZmlncywgcGFnZUNvbmZpZ1swXS5hc3NldENvbmZpZ3MpO1xyXG4gICAgfSBlbHNlIGlmIChwYWdlQ29uZmlnWzBdLmFzc2V0Q29uZmlncy5sZW5ndGgpIHtcclxuICAgICAgY29uc3QgcEFjY2VzcyA9IHRoaXMucmJhY0Zvcm0uZ2V0KCdwcm92aWRlQWNjZXNzJykudmFsdWU7XHJcbiAgICAgIGlmIChwQWNjZXNzICE9PSAnMScpIHtcclxuICAgICAgICB0aGlzLnNldFBvbGljeUxldmVsRmllbGRQYXRjaGluZyhwYWdlQ29uZmlnWzBdLnBhZ2VDb25maWdzLCBwYWdlQ29uZmlnWzBdLmFzc2V0Q29uZmlncyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldERhdGFCYXNlZE9uUm9sZShmcm9tID0gbnVsbCkge1xyXG4gICAgY29uc3Qgcm9sZUlkcyA9IHRoaXMucmJhY0Zvcm0uZ2V0KCdyb2xlaWQnKS52YWx1ZS5tYXAoYSA9PiBhLmlkKTtcclxuICAgIGlmIChyb2xlSWRzLmxlbmd0aCkge1xyXG4gICAgICB0aGlzLmVkaXRQYWdlID0gdHJ1ZTtcclxuICAgICAgdGhpcy5wYWdlTGV2ZWxBY2Nlc3MgPSBmYWxzZTtcclxuICAgICAgdGhpcy5maWVsZExldmVsQWNjZXNzID0gZmFsc2U7XHJcbiAgICAgIGNvbnN0IGYgPSA8Rm9ybUFycmF5PnRoaXMucmJhY0Zvcm0uY29udHJvbHNbJ2ZpZWxkTGV2ZWxEYXRhJ107XHJcbiAgICAgIGYuY29udHJvbHMgPSBbXTtcclxuICAgICAgY29uc3QgcCA9IDxGb3JtQXJyYXk+dGhpcy5yYmFjRm9ybS5jb250cm9sc1sncGFnZUxldmVsRGF0YSddO1xyXG4gICAgICBwLmNvbnRyb2xzID0gW107XHJcbiAgICAgIC8vIGxvb3AgdGhlIHJvbGUgaWRzXHJcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcm9sZUlkcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgIGNvbnN0IHBhZ2VDb25maWcgPSB0aGlzLnJvbGVBZGRlZERhdGEuZmlsdGVyKGtleSA9PiBrZXkuaWQgPT09IHJvbGVJZHNbal0pO1xyXG4gICAgICAgIHRoaXMuZ2V0T3JnSWQocGFnZUNvbmZpZyk7XHJcbiAgICAgICAgaWYgKGZyb20gPT09ICdmaWVsZCcpIHtcclxuICAgICAgICAgIHRoaXMuZWRpdFBhZ2UgPSBmYWxzZTtcclxuICAgICAgICAgIGlmIChwYWdlQ29uZmlnWzBdLmFzc2V0Q29uZmlncy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRQb2xpY3lMZXZlbEZpZWxkUGF0Y2hpbmcocGFnZUNvbmZpZ1swXS5yb2xlUG9saWN5R3JvdXBDb25maWdzLCBwYWdlQ29uZmlnWzBdLmFzc2V0Q29uZmlncywgZnJvbSk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKHJvbGVJZHMubGVuZ3RoID09PSBqICsgMSkge1xyXG4gICAgICAgICAgICB0aGlzLnNob3dMZXZlbEFjY2VzcygnMicpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLmdldENoZWNrUm9sZVBvbGljeUdyb3VwKHBhZ2VDb25maWcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5yZXNldEZvcm0oJzInKTtcclxuICAgICAgdGhpcy5yYmFjRm9ybS5nZXQoJ2FjY2Vzc0J5Jykuc2V0VmFsdWUoJzInKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldE9yZ0lkKHBhZ2VDb25maWcpIHtcclxuICAgIGlmIChwYWdlQ29uZmlnPy5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5vcmdhbmlzYXRpb25pZCA9IHBhZ2VDb25maWdbMF0/Lm9yZ2FuaXphdGlvbmlkO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0Q2hlY2tSb2xlUG9saWN5R3JvdXAocGFnZUNvbmZpZykge1xyXG4gICAgaWYgKHBhZ2VDb25maWdbMF0ucm9sZVBvbGljeUdyb3VwQ29uZmlncy5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5zZXRQb2xpY3lMZXZlbFBhZ2VQYXRjaGluZyhwYWdlQ29uZmlnWzBdLnJvbGVQb2xpY3lHcm91cENvbmZpZ3MsIHBhZ2VDb25maWdbMF0uYXNzZXRDb25maWdzKTtcclxuICAgIH0gZWxzZSBpZiAocGFnZUNvbmZpZ1swXS5hc3NldENvbmZpZ3MubGVuZ3RoKSB7XHJcbiAgICAgIGNvbnN0IHBBY2Nlc3MgPSB0aGlzLnJiYWNGb3JtLmdldCgncHJvdmlkZUFjY2VzcycpLnZhbHVlO1xyXG4gICAgICBpZiAocEFjY2VzcyAhPT0gJzEnKSB7XHJcbiAgICAgICAgdGhpcy5zZXRQb2xpY3lMZXZlbEZpZWxkUGF0Y2hpbmcocGFnZUNvbmZpZ1swXS5yb2xlUG9saWN5R3JvdXBDb25maWdzLCBwYWdlQ29uZmlnWzBdLmFzc2V0Q29uZmlncyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldFJvbGVBbmRQb2xpY3lEYXRhKGZyb20gPSBudWxsKSB7XHJcbiAgICBjb25zdCB1c2VySWRzID0gdGhpcy5yYmFjRm9ybS5nZXQoJ3VzZXJpZCcpLnZhbHVlLm1hcChhID0+IGEuaWQpO1xyXG4gICAgaWYgKHVzZXJJZHMubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMuZWRpdFBhZ2UgPSB0cnVlO1xyXG4gICAgICB0aGlzLnBhZ2VMZXZlbEFjY2VzcyA9IGZhbHNlO1xyXG4gICAgICB0aGlzLmZpZWxkTGV2ZWxBY2Nlc3MgPSBmYWxzZTtcclxuICAgICAgY29uc3QgZiA9IDxGb3JtQXJyYXk+dGhpcy5yYmFjRm9ybS5jb250cm9sc1snZmllbGRMZXZlbERhdGEnXTtcclxuICAgICAgZi5jb250cm9scyA9IFtdO1xyXG4gICAgICBjb25zdCBwID0gPEZvcm1BcnJheT50aGlzLnJiYWNGb3JtLmNvbnRyb2xzWydwYWdlTGV2ZWxEYXRhJ107XHJcbiAgICAgIHAuY29udHJvbHMgPSBbXTtcclxuICAgICAgLy8gbG9vcCB0aGUgcm9sZSBpZHNcclxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB1c2VySWRzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgY29uc3QgcGFnZUNvbmZpZyA9IHRoaXMudXNlckxpc3QuZmlsdGVyKGtleSA9PiBrZXkuaWQgPT09IHVzZXJJZHNbal0pO1xyXG4gICAgICAgIGlmIChmcm9tID09PSAnZmllbGQnKSB7XHJcbiAgICAgICAgICB0aGlzLmVkaXRQYWdlID0gZmFsc2U7XHJcbiAgICAgICAgICBpZiAocGFnZUNvbmZpZ1swXS5hc3NldENvbmZpZ3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0UG9saWN5TGV2ZWxGaWVsZFBhdGNoaW5nKHBhZ2VDb25maWdbMF0ucGFnZUNvbmZpZ3MsIHBhZ2VDb25maWdbMF0uYXNzZXRDb25maWdzLCBmcm9tKTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAodXNlcklkcy5sZW5ndGggPT09IGogKyAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0xldmVsQWNjZXNzKCcyJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuZ2V0Q2hlY2tQb2xpY3lMZXZlbEZpZWxkKHBhZ2VDb25maWcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5yZXNldEZvcm0oJzEnKTtcclxuICAgICAgdGhpcy5yYmFjRm9ybS5nZXQoJ2FjY2Vzc0J5Jykuc2V0VmFsdWUoJzEnKTtcclxuICAgIH1cclxuICB9XHJcbiAgZ2V0Q2hlY2tQb2xpY3lMZXZlbEZpZWxkKHBhZ2VDb25maWcpIHtcclxuICAgIGlmIChwYWdlQ29uZmlnWzBdLnBhZ2VDb25maWdzLmxlbmd0aCkge1xyXG4gICAgICB0aGlzLnNldFBvbGljeUxldmVsUGFnZVBhdGNoaW5nKHBhZ2VDb25maWdbMF0ucGFnZUNvbmZpZ3MsIHBhZ2VDb25maWdbMF0uYXNzZXRDb25maWdzKTtcclxuICAgIH0gZWxzZSBpZiAocGFnZUNvbmZpZ1swXS5hc3NldENvbmZpZ3MubGVuZ3RoKSB7XHJcbiAgICAgIGNvbnN0IHBBY2Nlc3MgPSB0aGlzLnJiYWNGb3JtLmdldCgncHJvdmlkZUFjY2VzcycpLnZhbHVlO1xyXG4gICAgICBpZiAocEFjY2VzcyAhPT0gJzEnKSB7XHJcbiAgICAgICAgdGhpcy5zZXRQb2xpY3lMZXZlbEZpZWxkUGF0Y2hpbmcocGFnZUNvbmZpZ1swXS5wYWdlQ29uZmlncywgcGFnZUNvbmZpZ1swXS5hc3NldENvbmZpZ3MpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXNldEZvcm0oaWQgPSBudWxsLCBjbGVhciA9IG51bGwpIHtcclxuICAgIHRoaXMuc3ViTW9kdWxlTGlzdCA9IHRoaXMucGFnZURhdGEgPSB0aGlzLnNlbGVjdGVkUGFnZURhdGEgPSBbXTtcclxuICAgIHRoaXMucGFnZUxldmVsQWNjZXNzID0gdGhpcy5maWVsZExldmVsQWNjZXNzID0gZmFsc2U7XHJcbiAgICBjb25zdCBmID0gPEZvcm1BcnJheT50aGlzLnJiYWNGb3JtLmNvbnRyb2xzWydmaWVsZExldmVsRGF0YSddO1xyXG4gICAgZi5jb250cm9scyA9IFtdO1xyXG4gICAgY29uc3QgcCA9IDxGb3JtQXJyYXk+dGhpcy5yYmFjRm9ybS5jb250cm9sc1sncGFnZUxldmVsRGF0YSddO1xyXG4gICAgcC5jb250cm9scyA9IFtdO1xyXG4gICAgdGhpcy5yYmFjRm9ybS5yZXNldCgpO1xyXG4gICAgaWYgKGlkICE9PSBudWxsKSB7XHJcbiAgICAgIHRoaXMucmJhY0Zvcm0uZ2V0KCdhY2Nlc3NCeScpLnNldFZhbHVlKGlkKTtcclxuICAgIH0gZWxzZSBpZiAoY2xlYXIgIT09IG51bGwpIHtcclxuICAgICAgdGhpcy5BZGRDb21wb25lbnQucmVzZXRGb3JtKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZWRpcmVjdExpc3QoKSB7XHJcbiAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZUJ5VXJsKCcvcGFnZXMvcmJhYy9wYWdlLWFjY2Vzcy9wYWdlLWFjY2Vzcy1saXN0Jyk7XHJcbiAgfVxyXG5cclxuICBzYXZlQWNjZXNzUGF0Y2hpbmcoKSB7XHJcbiAgICB0aGlzLnNhdmVkRmllbGRQYWdlc1BhdGNoaW5nID0gW107XHJcbiAgICB0aGlzLnNhdmVkUGFnZUFjY2Vzc1BhdGNoaW5nID0gZmFsc2U7XHJcbiAgICBpZiAodGhpcy5yYmFjRm9ybS5nZXQoJ3Byb3ZpZGVBY2Nlc3MnKT8udmFsdWUgPT09ICcyJykge1xyXG4gICAgICB0aGlzLnNhdmVkUGFnZUFjY2Vzc1BhdGNoaW5nID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IHBwSWQgPSB0aGlzLnJiYWNGb3JtLmdldCgncGFnZUxldmVsRGF0YScpLnZhbHVlO1xyXG4gICAgICB0aGlzLnNhdmVkRmllbGRQYWdlc1BhdGNoaW5nID0gW107XHJcbiAgICAgIGlmIChwcElkPy5sZW5ndGgpIHtcclxuICAgICAgICBwcElkLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICBjb25zdCBzZWxlY3RlZE9iaiA9IHsgcGFnZWlkOiBlbGVtZW50Py5wYWdlaWQsIGFjY2VzczogZWxlbWVudD8ucGFnZUFjY2VzcyB9O1xyXG4gICAgICAgICAgdGhpcy5zYXZlZEZpZWxkUGFnZXNQYXRjaGluZy5wdXNoKHNlbGVjdGVkT2JqKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy5hbGVydC5zdWNjZXNzKCdUZW1wb3JhcmlseSBzYXZlZCBEYXRhIGZvciBjaGFuZ2VzJyk7XHJcbiAgfVxyXG5cclxuICBjaGFuZ2VGaWVsZEFjY2VzcyhfaW5kZXgpIHtcclxuICAgIGNvbnN0IGFjY2Vzc0FycmF5ID0gdGhpcy5yYmFjRm9ybS5nZXQoJ3BhZ2VMZXZlbERhdGEnKSBhcyBGb3JtQXJyYXk7XHJcbiAgICBjb25zdCBmaWVsZFZhbHVlID0gdGhpcy5yYmFjRm9ybS5nZXQoJ2ZpZWxkTGV2ZWxEYXRhJykudmFsdWUubWFwKGVsID0+IGVsLmFjY2Vzcyk7XHJcbiAgICBsZXQgbWF4T2NjID0geyBlbGVtZW50OiBudWxsLCBvY2N1cmVkOiAwIH07XHJcbiAgICBmaWVsZFZhbHVlLnJlZHVjZSgoYWNjLCBlbCkgPT4ge1xyXG4gICAgICBhY2NbZWxdID0gYWNjW2VsXSA/IGFjY1tlbF0gKyAxIDogMTtcclxuICAgICAgaWYgKGFjY1tlbF0gPiBtYXhPY2Mub2NjdXJlZCkge1xyXG4gICAgICAgIG1heE9jYyA9IHsgZWxlbWVudDogZWwsIG9jY3VyZWQ6IGFjY1tlbF0gfTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gYWNjO1xyXG4gICAgfSwge30pO1xyXG4gICAgY29uc3QgcGFnZUluZGV4ID0gdGhpcy5yYmFjRm9ybVxyXG4gICAgICAuZ2V0KCdwYWdlTGV2ZWxEYXRhJylcclxuICAgICAgLnZhbHVlLmZpbmRJbmRleChlbCA9PiBlbC5wYWdlaWQgPT09IHRoaXMucmJhY0Zvcm0uZ2V0KCdmaWVsZExldmVsRGF0YScpLnZhbHVlWzBdLnBhZ2VJZCk7XHJcbiAgICBpZiAocGFnZUluZGV4ID4gLTEpIHtcclxuICAgICAgYWNjZXNzQXJyYXkucHVzaChcclxuICAgICAgICBuZXcgRm9ybUdyb3VwKHtcclxuICAgICAgICAgIHBhZ2VOYW1lOiBuZXcgRm9ybUNvbnRyb2wodGhpcy5yYmFjRm9ybS5nZXQoJ3BhZ2VMZXZlbERhdGEnKS52YWx1ZVtwYWdlSW5kZXhdLnBhZ2VOYW1lKSxcclxuICAgICAgICAgIHBhZ2VpZDogbmV3IEZvcm1Db250cm9sKHRoaXMucmJhY0Zvcm0uZ2V0KCdwYWdlTGV2ZWxEYXRhJykudmFsdWVbcGFnZUluZGV4XS5wYWdlaWQpLFxyXG4gICAgICAgICAgcGFnZUFjY2VzczogbmV3IEZvcm1Db250cm9sKG1heE9jYy5lbGVtZW50ID8gbWF4T2NjLmVsZW1lbnQgOiAnMicpXHJcbiAgICAgICAgfSlcclxuICAgICAgKTtcclxuICAgICAgYWNjZXNzQXJyYXkucmVtb3ZlQXQocGFnZUluZGV4KTtcclxuICAgICAgY29uc3QgaXNFeGlzdCA9IHRoaXMuc2VsZWN0ZWRQYWdlQWNjZXNzQ2hhbmdlcy5maW5kSW5kZXgoXHJcbiAgICAgICAgZWwgPT4gZWwucGFnZWlkID09PSB0aGlzLnJiYWNGb3JtLmdldCgncGFnZUxldmVsRGF0YScpLnZhbHVlW3BhZ2VJbmRleF0ucGFnZWlkXHJcbiAgICAgICk7XHJcbiAgICAgIGlmIChpc0V4aXN0ID4gLTEpIHtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkUGFnZUFjY2Vzc0NoYW5nZXMuc3BsaWNlKGlzRXhpc3QsIDEpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjaGFuZ2VQYWdlQWNjZXNzKGluZGV4KSB7XHJcbiAgICBjb25zdCBzZWxlY3RlZFZhbHVlID0gdGhpcy5yYmFjRm9ybS5nZXQoJ3BhZ2VMZXZlbERhdGEnKS52YWx1ZVtpbmRleF07XHJcbiAgICBjb25zdCBpc0V4aXN0ID0gdGhpcy5zZWxlY3RlZFBhZ2VBY2Nlc3NDaGFuZ2VzPy5maW5kSW5kZXgoZWwgPT4gZWw/LnBhZ2VpZCA9PT0gc2VsZWN0ZWRWYWx1ZS5wYWdlaWQpO1xyXG4gICAgaWYgKGlzRXhpc3QgPiAtMSkge1xyXG4gICAgICB0aGlzLnNlbGVjdGVkUGFnZUFjY2Vzc0NoYW5nZXNbaXNFeGlzdF0ucGFnZUFjY2VzcyA9IHNlbGVjdGVkVmFsdWUucGFnZUFjY2VzcztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRQYWdlQWNjZXNzQ2hhbmdlcy5wdXNoKHNlbGVjdGVkVmFsdWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbn1cclxuIiwiPGRpdiBjbGFzcz1cInJvdyByYmFjLWNhcmRcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJjb2wtMTJcIj5cclxuICAgICAgPG1hdC1jYXJkIGNsYXNzPVwibWF0LWNhcmRcIj5cclxuICAgICAgICA8bWF0LWNhcmQtY29udGVudCBjbGFzcz1cInAtMlwiPlxyXG4gICAgICAgICAgPGZvcm0gW2Zvcm1Hcm91cF09XCJyYmFjRm9ybVwiPlxyXG4gICAgICAgICAgICA8YXBwLW1hbmFnZS1hY2Nlc3MtcmFkaW9cclxuICAgICAgICAgICAgICAoYWNjZXNzQnkpPVwiYWNjZXNzQnkoJGV2ZW50KVwiXHJcbiAgICAgICAgICAgICAgKHVzZXJEcm9wZG93bik9XCJ1c2VyRHJvcGRvd24oJGV2ZW50KVwiXHJcbiAgICAgICAgICAgICAgKHJvbGVEcm9wZG93bik9XCJyb2xlRHJvcGRvd24oJGV2ZW50KVwiXHJcbiAgICAgICAgICAgICAgKHBvbGljeURyb3Bkb3duKT1cInBvbGljeURyb3Bkb3duKCRldmVudClcIlxyXG4gICAgICAgICAgICAgIChkcm9wRG93blNlbGVjdGVkVmFsdWVzKT1cImRyb3BEb3duU2VsZWN0ZWRWYWx1ZXMoJGV2ZW50KVwiPjwvYXBwLW1hbmFnZS1hY2Nlc3MtcmFkaW8+XHJcbiAgXHJcbiAgICAgICAgICAgIDxoMyBjbGFzcz1cInJhZGlvLXRpdGxlIG1iLTJcIj5QYWdlIEFjY2VzcyBNYW5hZ2VtZW50PC9oMz5cclxuICAgICAgICAgICAgPG1hdC1jYXJkIGNsYXNzPVwibWF0LWNhcmRcIj5cclxuICAgICAgICAgICAgICA8bWF0LWNhcmQtY29udGVudCBjbGFzcz1cInAtMlwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLTMgY29sLW1kLTYgY29sLTEyIG1iLTNcIiAqbmdJZj1cImZhbHNlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwicmFkaW8tdGl0bGVcIj5Nb2R1bGVzPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICA8YW5ndWxhcjItbXVsdGlzZWxlY3RcclxuICAgICAgICAgICAgICAgICAgICAgIFtkYXRhXT1cIm1vZHVsZUxpc3RcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgW3NldHRpbmdzXT1cIm1vZHVsZURyb3Bkb3duU2V0dGluZ3NcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgb25TZWxlY3Q9XCJsb2FkU3ViTW9kdWxlKCdjbGljaycpXCJcclxuICAgICAgICAgICAgICAgICAgICAgIG9uRGVTZWxlY3Q9XCJyZW1vdmVTdWJNb2R1bGUoJGV2ZW50KVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICBvblNlbGVjdEFsbD1cImxvYWRTdWJNb2R1bGUoJ2NsaWNrJylcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgb25EZVNlbGVjdEFsbD1cInJlbW92ZUFsbFN1Yk1vZHVsZSgpXCJcclxuICAgICAgICAgICAgICAgICAgICAgIGZvcm1Db250cm9sTmFtZT1cIm1vZHVsZVwiPjwvYW5ndWxhcjItbXVsdGlzZWxlY3Q+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLTMgY29sLW1kLTYgY29sLTEyIG1iLTNcIiAqbmdJZj1cImZhbHNlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwicmFkaW8tdGl0bGVcIj5TdWIgTW9kdWxlczwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgPGFuZ3VsYXIyLW11bHRpc2VsZWN0XHJcbiAgICAgICAgICAgICAgICAgICAgICBbZGF0YV09XCJzdWJNb2R1bGVMaXN0XCJcclxuICAgICAgICAgICAgICAgICAgICAgIFtzZXR0aW5nc109XCJzdWJtb2R1bGVEcm9wZG93blNldHRpbmdzXCJcclxuICAgICAgICAgICAgICAgICAgICAgIG9uU2VsZWN0PVwibG9hZFN1Yk1vZHVsZVBhZ2UoJ2NsaWNrJylcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgb25EZVNlbGVjdD1cInJlbW92ZVN1Yk1vZHVsZVBhZ2UoJGV2ZW50LCAnc3VibW9kdWxlJylcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgb25TZWxlY3RBbGw9XCJsb2FkU3ViTW9kdWxlUGFnZSgnY2xpY2snKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICBvbkRlU2VsZWN0QWxsPVwicmVtb3ZlQWxsU3ViTW9kdWxlUGFnZSgpXCJcclxuICAgICAgICAgICAgICAgICAgICAgIGZvcm1Db250cm9sTmFtZT1cInN1Ym1vZHVsZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvYW5ndWxhcjItbXVsdGlzZWxlY3Q+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLTMgY29sLW1kLTEyIGNvbC0xMiBtYi0zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwicmFkaW8tdGl0bGVcIj5QYWdlczwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgPGFuZ3VsYXIyLW11bHRpc2VsZWN0XHJcbiAgICAgICAgICAgICAgICAgICAgICBbZGF0YV09XCJwYWdlc0xpc3RcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgW3NldHRpbmdzXT1cInBhZ2VEcm9wZG93blNldHRpbmdzXCJcclxuICAgICAgICAgICAgICAgICAgICAgIChvblNlbGVjdCk9XCJwb3B1bGF0ZVBhZ2UoJ2NsaWNrJylcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgZmllbGRLZXk9XCJTRVRUSU5HU19QQUdfQUNDX1BBR0VcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgKG9uRGVTZWxlY3QpPVwicG9wdWxhdGVQYWdlKCdjbGljaycpXCJcclxuICAgICAgICAgICAgICAgICAgICAgIChvblNlbGVjdEFsbCk9XCJwb3B1bGF0ZVBhZ2UoJ2NsaWNrJylcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgKG9uRGVTZWxlY3RBbGwpPVwicmVtb3ZlQWxsUG9wdWxhdGVQYWdlKClcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgZm9ybUNvbnRyb2xOYW1lPVwicGFnZUxpc3RcIj48L2FuZ3VsYXIyLW11bHRpc2VsZWN0PlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1sZy0zIGNvbC1tZC0xMiBjb2wtMTIgbWItM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cInJhZGlvLXRpdGxlIGQtYmxvY2sgcmVxdWlyZWRcIj5Qcm92aWRlIEFjY2VzcyBieSA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIDxtYXQtcmFkaW8tZ3JvdXAgZm9ybUNvbnRyb2xOYW1lPVwicHJvdmlkZUFjY2Vzc1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPG1hdC1yYWRpby1idXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCIxXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cInNob3dMZXZlbEFjY2VzcygnMScpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRLZXk9XCJTRVRUSU5HU19QQUdfQUNDX1BBR0VfUEFHRV9MRVZFTFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5QYWdlIExldmVsJm5ic3A7Jm5ic3A7XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L21hdC1yYWRpby1idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8bWF0LXJhZGlvLWJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT1cIjJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwic2hvd0xldmVsQWNjZXNzKCcyJylcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZEtleT1cIlNFVFRJTkdTX1BBR19BQ0NfUEFHX0ZJRUxEX0xFVkVMXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgPkZpZWxkIExldmVsXHJcbiAgICAgICAgICAgICAgICAgICAgICA8L21hdC1yYWRpby1idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9tYXQtcmFkaW8tZ3JvdXA+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gIFxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLTMgY29sLW1kLTYgY29sLTEyIG1iLTNcIiAqbmdJZj1cImZpZWxkTGV2ZWxBY2Nlc3NcIj5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJyYWRpby10aXRsZVwiPlNlbGVjdCBQYWdlPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICA8YnIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8cC1kcm9wZG93blxyXG4gICAgICAgICAgICAgICAgICAgICAgaWQ9XCJzZWxlY3RwYWdlXCJcclxuICAgICAgICAgICAgICAgICAgICAgIGFyaWFMYWJlbGxlZEJ5PVwic2VsZWN0cGFnZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICBbb3B0aW9uc109XCJzZWxlY3RlZFBhZ2VEYXRhXCJcclxuICAgICAgICAgICAgICAgICAgICAgIGZpZWxkS2V5PVwiU0VUVElOR1NfUEFHX0FDQ19QQUdFXCJcclxuICAgICAgICAgICAgICAgICAgICAgIChvbkNoYW5nZSk9XCJnZXRGaWVsZExldmVsTGlzdCgnY2xpY2snKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICBmb3JtQ29udHJvbE5hbWU9XCJmcGFnZXNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgb3B0aW9uTGFiZWw9XCJwYWdlbmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICBvcHRpb25WYWx1ZT1cImlkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9wLWRyb3Bkb3duPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gIFxyXG4gICAgICAgICAgICAgICAgPGRpdiAqbmdJZj1cInBhZ2VMZXZlbEFjY2Vzc1wiIGNsYXNzPVwicm93XCI+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtMTIgbXQtMyBwYWdlTGV2ZWxBY2Nlc3NUYWJsZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0YWJsZSBhcmlhLWRlc2NyaWJlZGJ5PVwicGFnZUxldmVsQWNjZXNzVGFibGVcIiBjbGFzcz1cInRhYmxlIHRhYmxlLWJvcmRlcmVkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8Y29sIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPVwid2lkdGg6IDEyMHB4XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgIDxjb2wgc3R5bGU9XCJ3aWR0aDogMTIwcHhcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGNvbCBzdHlsZT1cIndpZHRoOiAxMjBweFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8dGhlYWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz1cInRleHQtbGVmdFwiPlBhZ2UgTmFtZTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz1cInRleHQtY2VudGVyXCI+UjwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz1cInRleHQtY2VudGVyXCI+Ulc8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlJXRDwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz1cInRleHQtY2VudGVyXCI+Tm9uZTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz1cInRleHQtY2VudGVyXCI+VmFsaWRpdHk8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC90aGVhZD5cclxuICAgICAgICAgICAgICAgICAgICAgIDx0Ym9keT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1BcnJheU5hbWU9XCJwYWdlTGV2ZWxEYXRhXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAqbmdGb3I9XCJsZXQgZkFjY2VzcyBvZiByYmFjRm9ybS5nZXQoJ3BhZ2VMZXZlbERhdGEnKVsnY29udHJvbHMnXTsgbGV0IGkgPSBpbmRleFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDx0ciBbZm9ybUdyb3VwXT1cInJiYWNGb3JtLmdldCgncGFnZUxldmVsRGF0YScpWydjb250cm9scyddW2ldXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWxlZnRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9XCJib3JkZXI6IG5vbmU7IHBvaW50ZXItZXZlbnRzOiBub25lOyB3aWR0aDogMzYwcHhcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtQ29udHJvbE5hbWU9XCJwYWdlTmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJwYWdlbGV2ZWxkYXRhXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY2hhbmdlKT1cImNoYW5nZVBhZ2VBY2Nlc3MoaSlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1Db250cm9sTmFtZT1cInBhZ2VBY2Nlc3NcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCIzXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cInBhZ2VyYWRpb3t7IGkgfX1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkS2V5PVwiU0VUVElOR1NfUEFHX0FDQ19QQUdFX1BBR0VfTEVWRUxfUkVBRFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNoYW5nZSk9XCJjaGFuZ2VQYWdlQWNjZXNzKGkpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtQ29udHJvbE5hbWU9XCJwYWdlQWNjZXNzXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZEtleT1cIlNFVFRJTkdTX1BBR19BQ0NfUEFHRV9QQUdFX0xFVkVMX1JFQURfV1JJVEVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCIyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cInBhZ2VyYWRpb3t7IGkgfX1cIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjaGFuZ2UpPVwiY2hhbmdlUGFnZUFjY2VzcyhpKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybUNvbnRyb2xOYW1lPVwicGFnZUFjY2Vzc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRLZXk9XCJTRVRUSU5HU19QQUdfQUNDX1BBR0VfUEFHRV9MRVZFTF9SRUFEX1dSSVRFX0RFTEVURVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInJhZGlvXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT1cIjVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwicGFnZXJhZGlve3sgaSB9fVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNoYW5nZSk9XCJjaGFuZ2VQYWdlQWNjZXNzKGkpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtQ29udHJvbE5hbWU9XCJwYWdlQWNjZXNzXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZEtleT1cIlNFVFRJTkdTX1BBR19BQ0NfUEFHRV9QQUdFX0xFVkVMX05PTkVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCI0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cInBhZ2VyYWRpb3t7IGkgfX1cIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqbmdJZj1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmJhY0Zvcm0uZ2V0KCdwYWdlTGlzdCcpPy52YWx1ZVtpXT8uYWN0aXZlVmVyc2lvbj8uZ3JpZGNvbmZpZyB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmJhY0Zvcm0uZ2V0KCdwYWdlTGlzdCcpPy52YWx1ZVtpXT8uZ3JpZGNvbmZpZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwLWRyb3Bkb3duXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbb3B0aW9uc109XCJjb25kaXRpb25zXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlQ2xhc3M9XCJjb25kaXRpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybUNvbnRyb2xOYW1lPVwiY29uZGl0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU2VsZWN0IGEgY29uZGl0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtkaXNhYmxlZF09XCJmQWNjZXNzPy52YWx1ZT8ucGFnZUFjY2VzcyA9PT0gJzQnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbkxhYmVsPVwibmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25WYWx1ZT1cImtleVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcC1kcm9wZG93bj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ2YWxpZGl0eVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqbmdJZj1cImZBY2Nlc3M/LnZhbHVlPy5jb25kaXRpb24gIT09ICdhbHdheXMnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtyZWFkb25seV09XCJmQWNjZXNzPy52YWx1ZT8ucGFnZUFjY2VzcyA9PT0gJzQnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFttaW5dPVwiMVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZEtleT1cIlNFVFRJTkdTX1BBR19BQ0NfUEFHRV9QQUdFX0xFVkVMX1ZBTElESVRZXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1Db250cm9sTmFtZT1cInZhbGlkaXR5XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPVwid2lkdGg6IDUwcHg7IG1hcmdpbi1sZWZ0OiAxNXB4XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBJbnB1dFRleHQgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cC1kcm9wZG93blxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW29wdGlvbnNdPVwiZ2V0RmFsbGJhY2tQZXJtaXNzaW9uKGZBY2Nlc3MpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlQ2xhc3M9XCJjb25kaXRpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybUNvbnRyb2xOYW1lPVwiZmFsbGJhY2tUb1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqbmdJZj1cImZBY2Nlc3M/LnZhbHVlPy5jb25kaXRpb24gIT09ICdhbHdheXMnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU2VsZWN0IGEgcGVybWlzc2lvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZGlzYWJsZWRdPVwiZkFjY2Vzcz8udmFsdWU/LnBhZ2VBY2Nlc3MgPT09ICczJyB8fCBmQWNjZXNzPy52YWx1ZT8ucGFnZUFjY2VzcyA9PT0gJzQnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbkxhYmVsPVwibmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25WYWx1ZT1cImtleVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbc3R5bGVdPVwieyAnbWFyZ2luLWxlZnQnOiAnMTVweCcgfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcC1kcm9wZG93bj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC90Ym9keT5cclxuICAgICAgICAgICAgICAgICAgICA8L3RhYmxlPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiICpuZ0lmPVwiZmllbGRMZXZlbEFjY2Vzc1wiPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLTEyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRhYmxlLXJlc3BvbnNpdmVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDx0YWJsZSBhcmlhLWRlc2NyaWJlZGJ5PVwiZmllbGRMZXZlbEFjY2Vzc1RhYmxlXCIgY2xhc3M9XCJ0YWJsZSB0YWJsZS1ib3JkZXJlZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8Y29sIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxjb2wgc3R5bGU9XCJ3aWR0aDogMTIwcHhcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPVwid2lkdGg6IDEyMHB4XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGNvbCBzdHlsZT1cIndpZHRoOiAxMjBweFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aGVhZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XCJ0ZXh0LWxlZnRcIj5GaWVsZCBOYW1lPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlJlYWQ8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz1cInRleHQtY2VudGVyXCI+V3JpdGU8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz1cInRleHQtY2VudGVyXCI+Tm9uZTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPVwidGV4dC1jZW50ZXJcIiAqbmdJZj1cInNob3dGaWVsZFZhbGlkaXR5XCI+VmFsaWRpdHk8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RoZWFkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGJvZHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybUFycmF5TmFtZT1cImZpZWxkTGV2ZWxEYXRhXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICpuZ0Zvcj1cImxldCBmQWNjZXNzIG9mIHJiYWNGb3JtLmdldCgnZmllbGRMZXZlbERhdGEnKVsnY29udHJvbHMnXTsgbGV0IGkgPSBpbmRleFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyIFtmb3JtR3JvdXBOYW1lXT1cImlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1sZWZ0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3sgZkRhdGFbaV1bJ2Rpc3BsYXluYW1lJ10gfX1cclxuICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImhpZGRlblwiIGZvcm1Db250cm9sTmFtZT1cImFzc2V0aWRcIiB2YWx1ZT1cInt7IGZEYXRhW2ldWydpZCddIH19XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImhpZGRlblwiIGZvcm1Db250cm9sTmFtZT1cInBhZ2VJZFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtQ29udHJvbE5hbWU9XCJhY2Nlc3NcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNoYW5nZSk9XCJjaGFuZ2VGaWVsZEFjY2VzcygkZXZlbnQpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT1cIjNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJhY2Nlc3NSYWRpb3t7IGkgfX1cIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybUNvbnRyb2xOYW1lPVwiYWNjZXNzXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjaGFuZ2UpPVwiY2hhbmdlRmllbGRBY2Nlc3MoJGV2ZW50KVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicmFkaW9cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCIyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiYWNjZXNzUmFkaW97eyBpIH19XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1Db250cm9sTmFtZT1cImFjY2Vzc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY2hhbmdlKT1cImNoYW5nZUZpZWxkQWNjZXNzKCRldmVudClcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInJhZGlvXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPVwiNFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cImFjY2Vzc1JhZGlve3sgaSB9fVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtY2VudGVyXCIgKm5nSWY9XCJzaG93RmllbGRWYWxpZGl0eVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwLWRyb3Bkb3duXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbb3B0aW9uc109XCJjb25kaXRpb25zXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlQ2xhc3M9XCJjb25kaXRpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2Rpc2FibGVkXT1cImZBY2Nlc3M/LnZhbHVlPy5hY2Nlc3MgPT09ICc0J1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtQ29udHJvbE5hbWU9XCJjb25kaXRpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTZWxlY3QgYSBjb25kaXRpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uTGFiZWw9XCJuYW1lXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvblZhbHVlPVwia2V5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wLWRyb3Bkb3duPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInZhbGlkaXR5XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpuZ0lmPVwiZkFjY2Vzcz8udmFsdWU/LmNvbmRpdGlvbiAhPT0gJ2Fsd2F5cydcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW21pbl09XCIxXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1Db250cm9sTmFtZT1cInZhbGlkaXR5XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtyZWFkb25seV09XCJmQWNjZXNzPy52YWx1ZT8uYWNjZXNzID09PSAnNCdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9XCJ3aWR0aDogNTBweDsgbWFyZ2luLWxlZnQ6IDE1cHhcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcElucHV0VGV4dCAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwLWRyb3Bkb3duXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbb3B0aW9uc109XCJnZXRGYWxsYmFja1Blcm1pc3Npb24oZkFjY2VzcylcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVDbGFzcz1cImNvbmRpdGlvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtQ29udHJvbE5hbWU9XCJmYWxsYmFja1RvXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpuZ0lmPVwiZkFjY2Vzcz8udmFsdWU/LmNvbmRpdGlvbiAhPT0gJ2Fsd2F5cydcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTZWxlY3QgYSBwZXJtaXNzaW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtkaXNhYmxlZF09XCJmQWNjZXNzPy52YWx1ZT8uYWNjZXNzID09PSAnNCcgfHwgZkFjY2Vzcz8udmFsdWU/LmFjY2VzcyA9PT0gJzMnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbkxhYmVsPVwibmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25WYWx1ZT1cImtleVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbc3R5bGVdPVwieyAnbWFyZ2luLWxlZnQnOiAnMTVweCcgfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcC1kcm9wZG93bj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGJvZHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3RhYmxlPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvbWF0LWNhcmQtY29udGVudD5cclxuICAgICAgICAgICAgPC9tYXQtY2FyZD5cclxuICAgICAgICAgIDwvZm9ybT5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJtdC0zXCIgKm5nSWY9XCIhZmllbGRMZXZlbEFjY2VzcyAmJiBzZWxlY3RlZEFjY2VzcyA9PT0gJ3JvbGUnXCI+XHJcbiAgICAgICAgICAgIDxoMyBjbGFzcz1cInJhZGlvLXRpdGxlIG1iLTJcIj5Qb2xpY3kgR3JvdXBzIGFzc29jaWF0ZWQgd2l0aCB7eyBzZWxlY3RlZFJvbGUgfX08L2gzPlxyXG4gICAgICAgICAgICA8bWF0LWNhcmQgY2xhc3M9XCJtdC0yXCI+XHJcbiAgICAgICAgICAgICAgPG1hdC1jYXJkLWNvbnRlbnQ+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtMTIgbXQtMVwiICpuZ0Zvcj1cImxldCBwb2xpY3lHcm91cFBhZ2Ugb2YgcG9saWN5R3JvdXBQYWdlc1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyYWRpby10aXRsZSBtYi0yXCI+UG9saWN5IEdyb3VwOiB7eyBwb2xpY3lHcm91cFBhZ2UubmFtZSB9fTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0YWJsZS1yZXNwb25zaXZlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8dGFibGUgaWQ9XCJwb2xpY3lHcm91cFRhYmxlXCIgYXJpYS1kZXNjcmliZWRieT1cInBvbGljeUdyb3VwVGFibGVcIiBjbGFzcz1cInRhYmxlIHRhYmxlLWJvcmRlcmVkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxjb2wgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGNvbCBzdHlsZT1cIndpZHRoOiAxMjBweFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxjb2wgc3R5bGU9XCJ3aWR0aDogMTIwcHhcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPVwid2lkdGg6IDEyMHB4XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoZWFkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiIGNsYXNzPVwidGV4dC1sZWZ0XCI+UGFnZSBOYW1lPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5SZWFkPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5Xcml0ZTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIiBjbGFzcz1cInRleHQtY2VudGVyXCI+Tm9uZTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC90aGVhZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRib2R5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nRm9yPVwibGV0IHBhZ2Ugb2YgcG9saWN5R3JvdXBQYWdlPy5kYXRhXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtbGVmdFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9XCJib3JkZXI6IG5vbmU7IHBvaW50ZXItZXZlbnRzOiBub25lOyB3aWR0aDogMzYwcHhcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJwYWdlPy5wYWdlPy5hY3RpdmVWZXJzaW9uPy5wYWdlbmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbdmFsdWVdPVwicGFnZT8ucGFnZT8uYWN0aXZlVmVyc2lvbj8ucGFnZW5hbWVcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtjaGVja2VkXT1cInBhZ2U/LnJlYWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInJhZGlvXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkS2V5PVwiU0VUVElOR1NfUEFHX0FDQ19QQUdfRklFTERfTEVWRUxfUkVBRFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2NoZWNrZWRdPVwicGFnZT8ucmVhZHdyaXRlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZEtleT1cIlNFVFRJTkdTX1BBR19BQ0NfUEFHX0ZJRUxEX0xFVkVMX1dSSVRFXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbY2hlY2tlZF09XCJwYWdlPy5oaWRlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZEtleT1cIlNFVFRJTkdTX1BBR19BQ0NfUEFHX0ZJRUxEX0xFVkVMX05PTkVcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwicG9saWN5R3JvdXBQYWdlPy5kYXRhPy5sZW5ndGggPT09IDBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXJcIiBjb2xzcGFuPVwiNFwiPk5vIHBhZ2VzIGFzc29jaWF0ZWQgd2l0aCBQb2xpY3kgR3JvdXAuPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGJvZHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3RhYmxlPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvbWF0LWNhcmQtY29udGVudD5cclxuICAgICAgICAgICAgPC9tYXQtY2FyZD5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtcmlnaHQgbXQtM1wiPlxyXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IG1yLTJcIiBmaWVsZEtleT1cIlNFVFRJTkdTX1BBR19BQ0NfQkFDS1wiIChjbGljayk9XCJyZWRpcmVjdExpc3QoKVwiPkJhY2s8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tY2FuY2VsIG1yLTJcIiBmaWVsZEtleT1cIlNFVFRJTkdTX1BBR19BQ0NfQ0xFQVJcIiAoY2xpY2spPVwicmVzZXRGb3JtKClcIj5DbGVhcjwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgZmllbGRLZXk9XCJTRVRUSU5HU19QQUdfQUNDX1NBVkVcIiAoY2xpY2spPVwic2F2ZVJiYWMoKVwiPlNhdmU8L2J1dHRvbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvbWF0LWNhcmQtY29udGVudD5cclxuICAgICAgPC9tYXQtY2FyZD5cclxuICAgIDwvZGl2PlxyXG4gIDwvZGl2PlxyXG4gIFxyXG4iXX0=